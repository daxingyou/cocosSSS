{"version":3,"sources":["gameStart.js"],"names":["cc","Class","extends","Component","properties","onLoad","node","getChildByName","active","gameSeatsCom","getComponent","initNode","gameNormol","data","setResultData","resetGameSeats","setPaibei","receiveDaQiangData","expression","self","seatIndex0","sssNetMgr","getSeatIndexByID","sendId","sendIdindex","getLocalIndex","seatIndex1","receiveId","receiveIdindex","type","LiWu","find","LiWu0","startPoint","setBiaoqingPosition","endPoint","setPosition","Row","Col","actionBy","moveTo","p","runAction","mySch","animation","window","sssGame","Animation","sex","vv","userMgr","zhadan","play","audio","playSFX","aud","scheduleOnce","dangao","dianzan","feiwen","songhua","fanqie","index","wanfa"],"mappings":"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","file":"gameStart.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\sss\\sssgame","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.node.getChildByName('gameSeats').active = true;\r\n        this.gameSeatsCom = this.node.getChildByName('gameSeats').getComponent('gameSeats');\r\n    },\r\n\r\n    initNode:function(){\r\n        \r\n    },\r\n\r\n    gameNormol:function(data){\r\n        this.gameSeatsCom.setResultData(data);\r\n    }, \r\n\r\n    resetGameSeats:function(){\r\n        this.gameSeatsCom.resetGameSeats();\r\n    },\r\n\r\n    setPaibei:function(data){\r\n        this.gameSeatsCom.setPaibei(data);\r\n    },\r\n\r\n    receiveDaQiangData:function(data){\r\n        this.gameSeatsCom.receiveDaQiangData(data);\r\n    },\r\n\r\n    expression:function(data){    //表情\r\n        var self = this;\r\n        var seatIndex0 = cc.sssNetMgr.getSeatIndexByID(data.sendId);\r\n        var sendIdindex = cc.sssNetMgr.getLocalIndex(seatIndex0); //发送人的位置\r\n        var seatIndex1 = cc.sssNetMgr.getSeatIndexByID(data.receiveId);\r\n        var receiveIdindex = cc.sssNetMgr.getLocalIndex(seatIndex1); //接收人的位置\r\n        var type = data.type;\r\n\r\n        var LiWu = cc.find(\"Canvas/liwu\"+sendIdindex+\"/liwu\"+type);\r\n        var LiWu0 = cc.find(\"Canvas/liwu/liwu\");\r\n        LiWu.active = true;\r\n\r\n        var startPoint = this.setBiaoqingPosition(sendIdindex,type);//出发点\r\n        var endPoint = this.setBiaoqingPosition(receiveIdindex,type);//结束点\r\n\r\n        LiWu.setPosition(startPoint.Row,startPoint.Col)\r\n        var actionBy = cc.moveTo(0.5, cc.p(endPoint.Row,endPoint.Col));\r\n        LiWu.runAction(actionBy);\r\n        \r\n        var mySch =function(){ \r\n            LiWu.active = false;\r\n            var animation = window.sssGame.Animation;\r\n\r\n            var sex = \"M\";\r\n            if(cc.vv.userMgr.sex == 1){ //男\r\n                sex = \"M\";\r\n            }\r\n            else if(cc.vv.userMgr.sex == 2){ //女\r\n                sex = \"F\";\r\n            }\r\n\r\n            if(type === 0){\r\n                var zhadan = animation.zhadan;\r\n                zhadan.active = true;\r\n                zhadan.setPosition(endPoint.Row,endPoint.Col);\r\n                animation.zhadan.getComponent(cc.Animation).play('zhadan');\r\n                cc.audio.playSFX(\"liwu/\"+sex+\"_zhadan.mp3\");\r\n\r\n                var aud =function(){ \r\n                    cc.audio.playSFX(\"liwu/zhadan.mp3\");\r\n                }\r\n                self.scheduleOnce(aud,1.0);\r\n            }\r\n            else if(type === 1){\r\n                var dangao = animation.dangao;\r\n                dangao.active = true;\r\n                dangao.setPosition(endPoint.Row,endPoint.Col);\r\n                animation.dangao.getComponent(cc.Animation).play('dangao');\r\n                cc.audio.playSFX(\"liwu/\"+sex+\"_xianhua.mp3\");\r\n\r\n                var aud =function(){ \r\n                    cc.audio.playSFX(\"liwu/kiss_dangao.mp3\");\r\n                }\r\n                self.scheduleOnce(aud,1.0);\r\n            }\r\n            else if(type === 2){\r\n                var dianzan = animation.dianzan;\r\n                dianzan.active = true;\r\n                dianzan.setPosition(endPoint.Row,endPoint.Col);\r\n                animation.dianzan.getComponent(cc.Animation).play('dianzan');\r\n                cc.audio.playSFX(\"liwu/\"+sex+\"_dianzan.mp3\");\r\n\r\n                var aud =function(){ \r\n                    cc.audio.playSFX(\"liwu/hua_dianzan.mp3\");\r\n                }\r\n                self.scheduleOnce(aud,1.0);\r\n            }\r\n            else if(type === 3){\r\n                var feiwen = animation.feiwen;\r\n                feiwen.active = true;\r\n                feiwen.setPosition(endPoint.Row,endPoint.Col);\r\n                animation.feiwen.getComponent(cc.Animation).play('feiwen');\r\n                cc.audio.playSFX(\"liwu/\"+sex+\"_kiss.mp3\");\r\n\r\n                var aud =function(){ \r\n                    cc.audio.playSFX(\"liwu/kiss_dangao.mp3\");\r\n                }\r\n                self.scheduleOnce(aud,1.0);\r\n            }\r\n            else if(type === 4){\r\n                var songhua = animation.songhua;\r\n                songhua.active = true;\r\n                songhua.setPosition(endPoint.Row,endPoint.Col);\r\n                animation.songhua.getComponent(cc.Animation).play('songhua');\r\n                cc.audio.playSFX(\"liwu/\"+sex+\"_xianhua.mp3\");\r\n                var aud =function(){ \r\n                    cc.audio.playSFX(\"liwu/hua_dianzan.mp3\");\r\n                }\r\n                self.scheduleOnce(aud,1.0);\r\n            }\r\n            else if(type === 5){\r\n                var fanqie = animation.fanqie;\r\n                fanqie.active = true;\r\n                fanqie.setPosition(endPoint.Row,endPoint.Col);\r\n                animation.fanqie.getComponent(cc.Animation).play('fanqie');\r\n                cc.audio.playSFX(\"liwu/\"+sex+\"_fanqie.mp3\");\r\n                var aud =function(){ \r\n                    cc.audio.playSFX(\"liwu/fanqie.mp3\");\r\n                }\r\n                self.scheduleOnce(aud,1.0);\r\n            }\r\n        }\r\n        this.scheduleOnce(mySch,0.5);\r\n    },\r\n\r\n    //改变表情位置\r\n    setBiaoqingPosition:function(index,type){\r\n        var data = {};\r\n        if (cc.sssNetMgr.wanfa === 1) {\r\n            if(index === 0){\r\n                data.Row = 200;\r\n                data.Col = -280;\r\n            }\r\n            else if(index === 1){\r\n                data.Row = 570;\r\n                data.Col = 0;\r\n            }\r\n            else if(index === 2){\r\n                data.Row = -200;\r\n                data.Col = 280;\r\n            }\r\n            else if(index === 3){\r\n                data.Row = -580;\r\n                data.Col = 0;\r\n            }            \r\n        }\r\n        else {\r\n            if(index === 0){                \r\n                data.Row = 0;\r\n                data.Col = -255;\r\n            }\r\n            else if(index === 5){\r\n                data.Row = 564;\r\n                data.Col = -200;\r\n            }\r\n            else if(index === 3){\r\n                data.Row = 564;\r\n                data.Col = 164;\r\n            }\r\n            else if(index === 1){\r\n                data.Row = 0;\r\n                data.Col = 250;\r\n            }\r\n            else if(index === 2){\r\n                data.Row = -564;\r\n                data.Col = 164;\r\n            }\r\n            else if(index === 4){\r\n                data.Row = -564;\r\n                data.Col = -200;\r\n            }\r\n        }\r\n         return data;\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}