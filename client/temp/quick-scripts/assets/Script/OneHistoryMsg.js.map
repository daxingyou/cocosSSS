{"version":3,"sources":["OneHistoryMsg.js"],"names":["cc","Class","extends","Component","properties","msg","default","type","Label","bubble","Node","role_name","emoji","emoji_prefab","Prefab","atlas_emoji","SpriteAtlas","onLoad","init","data","active","emoji_node","instantiate","sprite","getSpriteFrame","getComponent","Sprite","spriteFrame","parent","string","width","length","name"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,aAAK;AACDC,qBAAS,IADR;AAEDC,kBAAMP,GAAGQ;AAFR,SADG;AAKRC,gBAAQ;AACJH,qBAAS,IADL;AAEJC,kBAAMP,GAAGU;AAFL,SALA;AASRC,mBAAW;AACPL,qBAAS,IADF;AAEPC,kBAAMP,GAAGQ;AAFF,SATH;AAaRI,eAAO;AACHN,qBAAS,IADN;AAEHC,kBAAMP,GAAGU;AAFN,SAbC;AAiBRG,sBAAc;AACVP,qBAAS,IADC;AAEVC,kBAAMP,GAAGc;AAFC,SAjBN;AAqBRC,qBAAa;AACTT,qBAAS,IADA;AAETC,kBAAMP,GAAGgB;AAFA;AArBL,KAHP;AA6BLC,YAAQ,kBAAY,CACnB,CA9BI;AA+BLC,UAAM,cAAUC,IAAV,EAAgB;AAClB,YAAIA,KAAKd,GAAL,CAAS,CAAT,KAAe,GAAnB,EAAwB;AACpB,iBAAKO,KAAL,CAAWQ,MAAX,GAAoB,IAApB;AACA,gBAAIC,aAAarB,GAAGsB,WAAH,CAAe,KAAKT,YAApB,CAAjB;AACA,gBAAIU,SAAS,KAAKR,WAAL,CAAiBS,cAAjB,CAAgCL,KAAKd,GAArC,CAAb;AACAgB,uBAAWI,YAAX,CAAwBzB,GAAG0B,MAA3B,EAAmCC,WAAnC,GAAiDJ,MAAjD;AACAF,uBAAWO,MAAX,GAAoB,KAAKhB,KAAzB;AACH,SAND,MAMO;AACH,iBAAKH,MAAL,CAAYW,MAAZ,GAAqB,IAArB;AACA,iBAAKf,GAAL,CAASwB,MAAT,GAAkBV,KAAKd,GAAvB;AACA,iBAAKI,MAAL,CAAYqB,KAAZ,GAAoB,KAAKX,KAAKd,GAAL,CAAS0B,MAAd,GAAuB,EAA3C;AACH;AACD,aAAKpB,SAAL,CAAekB,MAAf,GAAwBV,KAAKa,IAAL,GAAY,GAApC;AACH;AACD;;AAEA;;AAEA;;AAEA;;AAEA;AArDK,CAAT","file":"OneHistoryMsg.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        msg: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        bubble: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        role_name: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        emoji: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        emoji_prefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        atlas_emoji: {\r\n            default: null,\r\n            type: cc.SpriteAtlas\r\n        },\r\n    },\r\n    onLoad: function () {\r\n    },\r\n    init: function (data) {\r\n        if (data.msg[0] == \"E\") {\r\n            this.emoji.active = true\r\n            let emoji_node = cc.instantiate(this.emoji_prefab)\r\n            let sprite = this.atlas_emoji.getSpriteFrame(data.msg);\r\n            emoji_node.getComponent(cc.Sprite).spriteFrame = sprite\r\n            emoji_node.parent = this.emoji\r\n        } else {\r\n            this.bubble.active = true\r\n            this.msg.string = data.msg\r\n            this.bubble.width = 32 * data.msg.length + 10\r\n        }\r\n        this.role_name.string = data.name + \":\"\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    // start () {\r\n\r\n    // },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}