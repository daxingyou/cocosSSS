{"version":3,"sources":["Hall_User.js"],"names":["cc","Class","extends","Component","properties","label_uid","Label","label_nickname","icon","Sprite","label_fangka","onLoad","string","mj","user","uid","nickname","Utils","UrlImage","err","sprite","priteFrame","onSyncFangka","http","sendHall","method","resp","errno","fangka","onCheckUser","scene","showPrefab"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAWL,GAAGM,KADN;AAERC,wBAAgBP,GAAGM,KAFX;AAGRE,cAAMR,GAAGS,MAHD;AAIRC,sBAAcV,GAAGM;AAJT,KAHP;;AAWLK,UAXK,oBAWI;AAAA;;AACL,aAAKN,SAAL,CAAeO,MAAf,GAAwB,SAASZ,GAAGa,EAAH,CAAMC,IAAN,CAAWC,GAA5C;AACA,aAAKR,cAAL,CAAoBK,MAApB,GAA6BZ,GAAGa,EAAH,CAAMC,IAAN,CAAWE,QAAxC;AACA,aAAKN,YAAL,CAAkBE,MAAlB,GAA2B,GAA3B;AACAK,cAAMC,QAAN,CAAelB,GAAGa,EAAH,CAAMC,IAAN,CAAWN,IAA1B,EAAgC,UAACW,GAAD,EAAMC,MAAN,EAAiB;AAC7C,aAACD,GAAD,KAAS,MAAKX,IAAL,CAAUa,UAAV,GAAuBD,MAAhC;AACH,SAFD;AAGA,aAAKE,YAAL;AACH,KAnBI;;AAoBLA,kBAAc,wBAAY;AAAA;;AACtBC,aAAKC,QAAL,CAAc,EAAEC,QAAQ,YAAV,EAAd,EAAwC,UAACC,IAAD,EAAU;AAC9C,gBAAI,CAACA,KAAKC,KAAV,EAAiB;AACb3B,mBAAGa,EAAH,CAAMC,IAAN,CAAWc,MAAX,GAAoBF,KAAKE,MAAzB;AACA,uBAAKlB,YAAL,CAAkBE,MAAlB,GAA2BZ,GAAGa,EAAH,CAAMC,IAAN,CAAWc,MAAtC;AACH;AACJ,SALD;AAMH,KA3BI;AA4BLC,iBAAa,uBAAU;AACnB7B,WAAG8B,KAAH,CAASC,UAAT,CAAoB,MAApB;AACH;AA9BI,CAAT","file":"Hall_User.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\hall","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        label_uid: cc.Label,\r\n        label_nickname: cc.Label,\r\n        icon: cc.Sprite,\r\n        label_fangka: cc.Label,\r\n    },\r\n\r\n\r\n    onLoad() {\r\n        this.label_uid.string = \"ID: \" + cc.mj.user.uid\r\n        this.label_nickname.string = cc.mj.user.nickname\r\n        this.label_fangka.string = '-'\r\n        Utils.UrlImage(cc.mj.user.icon, (err, sprite) => {\r\n            !err && (this.icon.priteFrame = sprite)\r\n        })\r\n        this.onSyncFangka()\r\n    },\r\n    onSyncFangka: function () {\r\n        http.sendHall({ method: \"sync_money\" }, (resp) => {\r\n            if (!resp.errno) {\r\n                cc.mj.user.fangka = resp.fangka\r\n                this.label_fangka.string = cc.mj.user.fangka\r\n            }\r\n        })\r\n    },\r\n    onCheckUser: function(){\r\n        cc.scene.showPrefab(\"个人信息\")\r\n    }\r\n});\r\n"]}