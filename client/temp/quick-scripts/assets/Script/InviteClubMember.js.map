{"version":3,"sources":["InviteClubMember.js"],"names":["cc","Class","extends","Component","properties","user_name","default","type","Label","icon","Node","uid","status","btn_invite","onLoad","on","EventType","TOUCH_END","invite","bind","init","data","tarid","string","nickname","active","node","Utils","UrlImage","err","sprite","getComponent","Sprite","spriteFrame","info","mjroom","name","mj","user","club_id","http","sendHall","method","JSON","stringify","resp"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAW;AACPC,qBAAS,IADF;AAEPC,kBAAMP,GAAGQ;AAFF,SADH;AAKRC,cAAM;AACFH,qBAAS,IADP;AAEFC,kBAAMP,GAAGU;AAFP,SALE;AASRC,aAAK;AACDL,qBAAS,IADR;AAEDC,kBAAMP,GAAGQ;AAFR,SATG;AAaRI,gBAAQ;AACJN,qBAAS,IADL;AAEJC,kBAAMP,GAAGQ;AAFL,SAbA;AAiBRK,oBAAY;AACRP,qBAAS,IADD;AAERC,kBAAMP,GAAGU;AAFD;AAjBJ,KAHP;AAyBLI,YAAQ,kBAAY;AAChB,aAAKD,UAAL,CAAgBE,EAAhB,CAAmBf,GAAGU,IAAH,CAAQM,SAAR,CAAkBC,SAArC,EAAgD,KAAKC,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAhD;AACH,KA3BI;AA4BLC,UAAM,cAAUC,IAAV,EAAgB;AAAA;;AAClB,aAAKC,KAAL,GAAaD,KAAKV,GAAlB;AACA,aAAKN,SAAL,CAAekB,MAAf,GAAwBF,KAAKG,QAA7B;AACA,aAAKb,GAAL,CAASY,MAAT,GAAkB,QAAQF,KAAKV,GAA/B;AACA,YAAIU,KAAKT,MAAL,IAAe,QAAnB,EAA6B;AACzB,iBAAKC,UAAL,CAAgBY,MAAhB,GAAyB,IAAzB;AACH,SAFD,MAEO;AACH,iBAAKb,MAAL,CAAYc,IAAZ,CAAiBD,MAAjB,GAA0B,IAA1B;AACA,iBAAKb,MAAL,CAAYW,MAAZ,GAAqBF,KAAKT,MAAL,IAAe,SAAf,GAA2B,KAA3B,GAAmC,IAAxD;AACH;AACDe,cAAMC,QAAN,CAAeP,KAAKZ,IAApB,EAA0B,UAACoB,GAAD,EAAMC,MAAN,EAAiB;AACvC,aAACD,GAAD,KAAS,MAAKpB,IAAL,CAAUsB,YAAV,CAAuB/B,GAAGgC,MAA1B,EAAkCC,WAAlC,GAAgDH,MAAzD;AACH,SAFD;AAGH,KAzCI;AA0CLZ,YAAQ,kBAAY;AAChB,YAAIgB,OAAO,EAAX;AACAA,aAAKA,IAAL,GAAYlC,GAAGmC,MAAf;AACAD,aAAKE,IAAL,GAAYpC,GAAGqC,EAAH,CAAMC,IAAN,CAAWd,QAAvB;AACAU,aAAKK,OAAL,GAAevC,GAAGqC,EAAH,CAAMC,IAAN,CAAWC,OAA1B;AACA,aAAK3B,MAAL,CAAYc,IAAZ,CAAiBD,MAAjB,GAA0B,IAA1B;AACA,aAAKZ,UAAL,CAAgBY,MAAhB,GAAyB,KAAzB;AACA,aAAKb,MAAL,CAAYW,MAAZ,GAAqB,KAArB;AACAiB,aAAKC,QAAL,CAAc,EAAEC,QAAQ,QAAV,EAAoBpB,OAAO,KAAKA,KAAhC,EAAuCY,MAAMS,KAAKC,SAAL,CAAeV,IAAf,CAA7C,EAAd,EAAmF,UAACW,IAAD,EAAU,CAAG,CAAhG;AACH;AACD;;AAEA;;AAEA;;AAEA;;AAEA;AA5DK,CAAT","file":"InviteClubMember.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        user_name: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        icon: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        uid: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        status: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        btn_invite: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n    },\r\n    onLoad: function () {\r\n        this.btn_invite.on(cc.Node.EventType.TOUCH_END, this.invite.bind(this))\r\n    },\r\n    init: function (data) {\r\n        this.tarid = data.uid\r\n        this.user_name.string = data.nickname\r\n        this.uid.string = \"ID：\" + data.uid\r\n        if (data.status == \"ONLINE\") {\r\n            this.btn_invite.active = true\r\n        } else {\r\n            this.status.node.active = true\r\n            this.status.string = data.status == \"PLAYING\" ? \"牌局中\" : \"离线\"\r\n        }\r\n        Utils.UrlImage(data.icon, (err, sprite) => {\r\n            !err && (this.icon.getComponent(cc.Sprite).spriteFrame = sprite)\r\n        })\r\n    },\r\n    invite: function () {\r\n        let info = {}\r\n        info.info = cc.mjroom\r\n        info.name = cc.mj.user.nickname\r\n        info.club_id = cc.mj.user.club_id\r\n        this.status.node.active = true\r\n        this.btn_invite.active = false\r\n        this.status.string = \"已邀请\"\r\n        http.sendHall({ method: \"invite\", tarid: this.tarid, info: JSON.stringify(info) }, (resp) => { })\r\n    }\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    // start () {\r\n\r\n    // },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}