{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\sss/assets\\Script\\sss\\sssNetMgr.js"],"names":["cc","Class","extends","Component","properties","emitter","dataEventHandler","roomId","maxNumOfGames","numOfGames","numOfMJ","waitSec","seatIndex","seats","turn","button","chupai","gamestate","isOver","dissoveData","maPaiData","specialType","wanfa","isBiPai","chupaidata","singleReset","i","length","holds","ready","score","reset","curaction","folds","hued","huanpais","resetOneSeat","data","log","userid","ip","ico","name","online","clear","dispatchEvent","event","emit","getSeatIndexByID","userId","s","isOwner","getSeatByID","seat","getSelfData","getLocalIndex2","index","len","leGGn","console","ret","getLocalIndex","prepareReplay","roomInfo","detailOfGame","id","base_info","baseInfo","seatindex","game_seats","mj","user","uid","conf","type","initHandlers","self","loaded","sssNet","addHandler","errcode","roomid","maxGames","numofgames","errmsg","off","director","loadScene","result","shootInfo","singleResult","totalResult","specialResult","ping","lastTime","isExit","needCheckIp","creator","scene","onShowTips","zjID","mapaiData","value","state","turnUserID","si","doTurnChange","pai","doChupai","seatData","idx","indexOf","splice","last","connectGameServer","port","onConnectOK","sd","token","time","sign","send","onConnectFailed","showPrefab","node","getComponent","init","connect"],"mappings":"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","file":"sssNetMgr.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\sss","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        emitter: null,\r\n        dataEventHandler: null,\r\n        roomId: null,\r\n        maxNumOfGames: 0,\r\n        numOfGames: 0,\r\n        numOfMJ: 0,\r\n        waitSec:0,\r\n        seatIndex: -1,\r\n        seats: null,\r\n        turn: -1,\r\n        button: -1,\r\n        chupai: -1,\r\n        gamestate: \"\",\r\n        isOver: false,\r\n        dissoveData: null,\r\n        maPaiData: null,\r\n        specialType: 0,\r\n        wanfa: 0,\r\n        isBiPai: false,\r\n        chupaidata: null,\r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n    },\r\n\r\n    singleReset: function () {\r\n        for (var i = 0; i < this.seats.length; ++i) {\r\n            this.seats[i].holds = [];\r\n            this.seats[i].ready = false;\r\n            this.seats[i].score = 0;\r\n        }\r\n    },\r\n\r\n    reset: function () {\r\n        this.turn = -1;\r\n        this.chupai = -1,\r\n        this.button = -1;\r\n        this.gamestate = \"\";\r\n        this.curaction = null;\r\n        for (var i = 0; i < this.seats.length; ++i) {\r\n            this.seats[i].holds = [];\r\n            this.seats[i].folds = [];\r\n            this.seats[i].ready = false;\r\n            this.seats[i].hued = false;\r\n            this.seats[i].huanpais = null;\r\n            this.seats[i].score = 0;\r\n        }\r\n        this.maPaiData = null;\r\n    },\r\n    resetOneSeat:function(data){\r\n        cc.log(data)\r\n        cc.log(this)\r\n        for (var i = 0; i < this.seats.length; ++i) {\r\n            if(data==this.seats[i].userid){\r\n                delete this.seats[i].holds ;\r\n                delete this.seats[i].folds ;\r\n                this.seats[i].ready = false;\r\n                delete this.seats[i].hued ;\r\n                delete this.seats[i].huanpais;\r\n                delete this.seats[i].ip;\r\n                this.seats[i].ico = '';\r\n                this.seats[i].name = '';\r\n                this.seats[i].online = false;\r\n                this.seats[i].ready = false;\r\n                this.seats[i].score = 0;\r\n                this.seats[i].userid = 0;\r\n            }\r\n        }\r\n        cc.log(this.seats);\r\n    },\r\n    clear: function () {\r\n        this.dataEventHandler = null;\r\n        this.maPaiData = null;\r\n        if (this.isOver == null) {\r\n            this.seats = null;\r\n            this.roomId = null;\r\n            this.maxNumOfGames = 0;\r\n            this.numOfGames = 0;\r\n        }\r\n    },\r\n\r\n    dispatchEvent(event, data) {\r\n        if (this.dataEventHandler) {\r\n            this.dataEventHandler.emit(event, data);\r\n        }\r\n    },\r\n\r\n    getSeatIndexByID: function (userId) {\r\n        if (!this.seats) {\r\n            return -1;\r\n        }\r\n        for (var i = 0; i < this.seats.length; ++i) {\r\n            var s = this.seats[i];\r\n            if (s.userid == userId) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    },\r\n\r\n    isOwner: function () {\r\n        return this.seatIndex == 0;\r\n    },\r\n\r\n    getSeatByID: function (userId) {\r\n        var seatIndex = this.getSeatIndexByID(userId);\r\n        if (seatIndex === -1) {\r\n            return;\r\n        }\r\n        var seat = this.seats[seatIndex];\r\n        return seat;\r\n    },\r\n\r\n    getSelfData: function () {\r\n        return this.seats[this.seatIndex];\r\n    },\r\n\r\n    getLocalIndex2: function (index) {\r\n        if (!this.seats) {\r\n            return;\r\n        }\r\n        var len = 0;\r\n        var leGGn = this.seatIndex;\r\n        for (let i = 0; i < this.seats.length; i++) {\r\n            if (this.seats[i].userid > 0) {\r\n                len++;\r\n            }\r\n        }\r\n        switch (len) {\r\n            case 0:\r\n                console.log('len === 0');\r\n                break;\r\n            case 1:\r\n                var ret = (index - this.seatIndex + 1) % 1;\r\n                break;\r\n            case 2:\r\n                var ret = (index - this.seatIndex + 2) % 2;\r\n                break;\r\n            case 3:\r\n                var ret = (index - this.seatIndex + 3) % 3;\r\n                break;\r\n            case 4:\r\n                var ret = (index - this.seatIndex + 4) % 4;\r\n                break;\r\n            case 5:\r\n                var ret = (index - this.seatIndex + 5) % 5;\r\n                break;\r\n            case 6:\r\n                var ret = (index - this.seatIndex + 6) % 6;\r\n                break;\r\n            case 7:\r\n                var ret = (index - this.seatIndex + 7) % 7;\r\n                break;\r\n            case 8:\r\n                var ret = (index - this.seatIndex + 8) % 8;\r\n                break;\r\n            default:\r\n                var ret = (index - this.seatIndex + 8) % 8;\r\n                break;\r\n        }\r\n        return ret;\r\n    },\r\n    getLocalIndex:function(index){\r\n        if (!this.seats) {\r\n            return;\r\n        }\r\n        var len = 0;\r\n        var leGGn = this.seatIndex;\r\n        for (let i = 0; i < this.seats.length; i++) {\r\n            if (this.seats[i].userid > 0) {\r\n                len=i+1;\r\n            }\r\n        }\r\n        var ret=(index - this.seatIndex>=0)?(index - this.seatIndex):((index - this.seatIndex + len)%len) ;\r\n        return ret;\r\n    },\r\n    prepareReplay: function (roomInfo, detailOfGame) {\r\n        this.roomId = roomInfo.id;\r\n        this.seats = roomInfo.seats;\r\n        this.turn = detailOfGame.base_info.button;\r\n        var baseInfo = detailOfGame.base_info;\r\n        for (var i = 0; i < this.seats.length; ++i) {\r\n            var s = this.seats[i];\r\n            s.seatindex = i;\r\n            s.score = null;\r\n            s.holds = baseInfo.game_seats[i];\r\n            s.folds = [];\r\n            console.log(s);\r\n            if (cc.mj.user.uid == s.userid) {\r\n                this.seatIndex = i;\r\n            }\r\n        }\r\n        this.conf = {\r\n            type: baseInfo.type,\r\n        }\r\n    },\r\n    initHandlers: function () {\r\n        var self = this;\r\n        cc.log(self)\r\n        this.loaded = false;\r\n        this.emitter = cc.emitter;\r\n        cc.sssNet.addHandler(\"login_result\", function (data) {\r\n            console.log(data);\r\n            if (data.errcode === 0) {\r\n                var data = data.data;\r\n\r\n                self.roomId = data.roomid;\r\n                self.conf = data.conf;\r\n                self.maxNumOfGames = data.conf.maxGames;\r\n                self.waitSec = data.conf.waitSec;\r\n                // self.shootMulti=data.conf.shootMulti;\r\n                self.numOfGames = data.numofgames;\r\n                self.seats = data.seats;\r\n                self.wanfa = data.wanfa;\r\n                self.maPaiData = null;\r\n                // cc.log(cc.mj.user.uid);\r\n                self.seatIndex = self.getSeatIndexByID(cc.mj.user.uid);\r\n                self.isOver = false;\r\n\r\n                self.emitter.emit('login_result');\r\n            }\r\n            else {\r\n                console.log(data.errmsg);\r\n            }\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"login_finished\", function (data) {\r\n            // console.log(\"login_finished\");\r\n            self.emitter.off();\r\n            cc.director.loadScene(\"sssgame\", function () {\r\n                self.loaded = true;\r\n                var index = self.seatIndex;\r\n                // cc.log(index)\r\n                // cc.log(self.seats[index])\r\n                var holds = self.seats[index].holds;\r\n                var result = self.seats[index].result;\r\n                var shootInfo = self.seats[index].shootInfo;\r\n                var singleResult = self.seats[index].singleResult;\r\n                var totalResult = self.seats[index].totalResult;\r\n                var specialResult = self.seats[index].specialResult;\r\n\r\n                if (holds && holds.length > 0) {\r\n                    self.emitter.emit('game_holds');\r\n                    self.emitter.emit('show_shezhipai');\r\n                }\r\n                if (self.wanfa !== 3) {\r\n                    self.maPaiData = null;\r\n                }\r\n                if (result) {\r\n                    console.log('login_finished have result');\r\n                    self.emitter.emit('compare_result', result);\r\n                }\r\n\r\n                if (singleResult) {\r\n                    self.emitter.emit('game_over_Notify', singleResult);\r\n                }\r\n                if (totalResult) {\r\n                    self.emitter.emit('game_result_Notify', totalResult);\r\n                }\r\n                if (self.isBiPai) {\r\n                    self.emitter.emit('player_outCard_notify', self.chupaidata);\r\n                }\r\n                self.emitter.emit('refresh_seat');\r\n                cc.sssNet.ping();\r\n            });\r\n            self.emitter.emit('login_finished');\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"exit_result\", function (data) {\r\n            cc.log(data);\r\n            if(data){\r\n                self.roomId = null;\r\n                self.turn = -1;\r\n                self.seats = null;\r\n            }\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"exit_notify_push\", function (data) {\r\n            cc.log(data);\r\n            var userId = data;\r\n            var s = self.getSeatByID(userId);\r\n            cc.log(s)\r\n            if (s != null) {\r\n                // s.userid = 0;\r\n                // s.name = \"\";\r\n                // self.dispatchEvent(\"user_state_changed\", s);\r\n                \r\n                cc.emitter.emit(\"user_state_changed\", s);\r\n                \r\n            }\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"dispress_push\", function (data) {\r\n            console.log('dispress_push');\r\n            self.roomId = null;\r\n            self.turn = -1;\r\n            self.seats = null;\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"out_card_lastTime\", function (data) {\r\n            var lastTime = data;\r\n            cc.emitter.emit(\"set_lastTime\", lastTime);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"out_lixianTime\", function (data) {\r\n            var lastTime = data;\r\n            cc.emitter.emit(\"set_lixianTime\", lastTime);\r\n        });\r\n        \r\n        cc.sssNet.addHandler(\"game_start_lastTime\", function (data) {\r\n            cc.emitter.emit(\"game_start_lastTime\", data);\r\n        })\r\n        cc.sssNet.addHandler(\"out_dissolutionTime\", function (data) { //自动解散房间剩余时间\r\n            var lastTime = data;\r\n            cc.emitter.emit(\"set_dissolutionTime\", lastTime);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"expression_push\", function (data) {  //发表情\r\n            cc.emitter.emit(\"expression_notify\", data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"disconnect\", function (data) {\r\n            console.log(\"disconnect\")\r\n            cc.sssNet.isExit = true;\r\n            if (self.roomId == null) {\r\n                cc.emitter.emit('remove_handler');\r\n                cc.director.loadScene(\"hall\");\r\n            }\r\n            else {\r\n                if (self.isOver == false) {\r\n                    cc.emitter.emit('disconnect');\r\n                }\r\n                else {\r\n                    self.roomId = null;\r\n                }\r\n            }\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"new_user_comes_push\", function (data) {\r\n            console.log(\"new_user_comes_push\");\r\n            var seatIndex = data.seatindex;\r\n            var needCheckIp = false;\r\n            if (self.seats[seatIndex].userid > 0) {\r\n                self.seats[seatIndex].online = true;\r\n                if (self.seats[seatIndex].ip != data.ip) {\r\n                    self.seats[seatIndex].ip = data.ip;\r\n                    needCheckIp = true;\r\n                }\r\n            }\r\n            else {\r\n                data.online = true;\r\n                self.seats[seatIndex] = data;\r\n                needCheckIp = true;\r\n            }\r\n            self.emitter.emit('refresh_seat', self.seats[seatIndex]);\r\n            self.emitter.emit('user_state_offline', self.seats[seatIndex]);\r\n\r\n            if (needCheckIp) {\r\n                self.dispatchEvent('check_ip', self.seats[seatIndex]);\r\n            }\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"apply_join\", function (data) {\r\n            self.emitter.emit('apply_join_notify', data);\r\n        });\r\n        cc.sssNet.addHandler(\"user_state_push\", function (data) {\r\n            console.log(data);\r\n            var userId = data.userid;\r\n            var seat = self.getSeatByID(userId);\r\n            seat.online = data.online;\r\n            self.emitter.emit('user_state_offline', seat);\r\n        });\r\n        cc.sssNet.addHandler(\"is_assign_zj\", function (data) {\r\n            console.log(data);\r\n            self.emitter.emit('setZhuangNotify_push');\r\n        });\r\n        cc.sssNet.addHandler(\"other_no_ready\", function (data) {\r\n            if(data){\r\n                if (self.conf.creator == cc.mj.user.uid) {\r\n                    cc.scene.onShowTips(\"OK\", \"有玩家未准备\");\r\n                }\r\n            }\r\n        });\r\n        cc.sssNet.addHandler(\"user_ready_push\", function (data) {\r\n            console.log(\"user_ready_push\");\r\n            console.log(data);\r\n            var userId = data.userid;\r\n            var seat = self.getSeatByID(userId);\r\n            var index = self.getSeatIndexByID(userId);\r\n            seat.ready = data.ready;\r\n            if (index === self.seatIndex) {\r\n                console.log(\"index === self.seatIndex\");\r\n                self.emitter.emit('self_ready', data);\r\n            }\r\n            else {\r\n                self.emitter.emit('other_ready', data);\r\n            }\r\n            self.dispatchEvent('user_ready_changed',userId);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"game_mapai_push\", function (data) {\r\n            console.log(\"game_mapai_push\");\r\n            console.log(data);\r\n            self.maPaiData = data;\r\n            self.dispatchEvent('game_mapai', data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"game_num_push\", function (data) {\r\n            console.log(\"game_num_push\");\r\n            console.log(data);\r\n            self.numOfGames = data;\r\n            self.emitter.emit('game_num_notify', data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"game_holds_push\", function (data) {\r\n            console.log('game_holds_push');\r\n            // console.log(data);\r\n            // console.log(self.seats, self.seatIndex)\r\n            var seat = self.seats[self.seatIndex];\r\n            console.log(data);\r\n\r\n            seat.holds = data.holds;\r\n            self.specialType = data.type;\r\n\r\n            for (var i = 0; i < self.seats.length; ++i) {\r\n                var s = self.seats[i];\r\n                if (s.folds == null) {\r\n                    s.folds = [];\r\n                }\r\n                s.ready = false;\r\n            }\r\n            if (self.loaded) {\r\n                self.emitter.emit('game_holds', data.holds);\r\n                self.emitter.emit('show_shezhipai');\r\n            }\r\n        });\r\n\r\n        //普通和百变玩法的比牌结果\r\n        cc.sssNet.addHandler(\"compare_result_push\", function (data) {\r\n            console.log('compare_result_push');\r\n            console.log(data);\r\n\r\n            self.emitter.emit('compare_result', data);\r\n            //重置单局结算数据\r\n            self.singleReset();\r\n\r\n        });\r\n\r\n        //断线超时自动出最大牌\r\n        cc.sssNet.addHandler(\"out_maxPai_push\", function (data) {\r\n            console.log('out_maxPai_push');\r\n            console.log(data);\r\n\r\n            self.emitter.emit('out_maxPai_Notify');\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"game_start\", function (data) {\r\n            console.log('game_start');\r\n            console.log(data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"player_outCard\", function (data) {\r\n            console.log('player_outCard');\r\n            console.log(data);\r\n            self.emitter.emit('player_outCard_notify', data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"quick_swing_push\", function (data) {\r\n            console.log('quick_swing_push');\r\n            self.emitter.emit('quick_swing_notify', data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"assignZJ_push\", function (data) {\r\n            console.log('assignZJ_push');\r\n            console.log(data);\r\n            self.emitter.emit('assignZJ_push', data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"ZJUserId_push\", function (data) {\r\n            console.log('ZJUserId_push');\r\n            console.log(data);\r\n            self.emitter.emit('ZJUserId', data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"game_begin_push\", function (data) {\r\n            console.log('game_begin_push');\r\n            console.log(data);\r\n            self.gamestate = \"begin\";\r\n            self.emitter.emit('game_begin');\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"game_playing_push\", function (data) {\r\n            console.log('game_playing_push');\r\n            self.gamestate = \"playing\";\r\n            self.dispatchEvent('game_playing');\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"game_sync_push\", function (data) {\r\n            console.log('game_sync_push');\r\n            var seat = self.seats[self.seatIndex];\r\n            console.log(data);\r\n            seat.holds = data.holds;\r\n            self.wanfa = data.wanfa;\r\n            self.maxNumOfGames = data.maxGames;\r\n            self.numOfGames = data.numOfGames;\r\n            if (data.zjID) {\r\n                self.zjID = data.zjID;\r\n            }\r\n            if (self.wanfa === 3 && data.mapaiData.value > 0) {\r\n                self.maPaiData = data.mapaiData;\r\n            }\r\n            else {\r\n                self.maPaiData = null;\r\n            }\r\n            if (data.state === 3) {//游戏为比牌界面\r\n                self.isBiPai = true;\r\n                self.chupaidata = data.chupaidata;\r\n            }\r\n            if (data.result) {\r\n                console.log('game_sync_push have result');\r\n                seat.result = data.result;\r\n                self.emitter.emit('compare_result', data.result);\r\n            }\r\n            if (data.singleResult) {\r\n                seat.singleResult = data.singleResult;\r\n                if (self.loaded) {\r\n                    self.emitter.emit('game_over_Notify', data.singleResult);\r\n                }\r\n            }\r\n            if (data.totalResult) {\r\n                seat.totalResult = data.totalResult;\r\n                if (self.loaded) {\r\n                    self.emitter.emit('game_result_Notify', data.totalResult);\r\n                }\r\n            }\r\n\r\n            for (var i = 0; i < self.seats.length; ++i) {\r\n                var s = self.seats[i];\r\n                if (s.folds == null) {\r\n                    s.folds = [];\r\n                }\r\n                s.ready = false;\r\n            }\r\n            if (self.loaded && seat.holds && seat.holds.length > 0) {\r\n                self.emitter.emit('game_holds');\r\n                self.emitter.emit('show_shezhipai');\r\n            }\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"game_action_push\", function (data) {\r\n            self.curaction = data;\r\n            console.log(data);\r\n            self.dispatchEvent('game_action', data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"game_chupai_push\", function (data) {\r\n            console.log('game_chupai_push');\r\n            var turnUserID = data;\r\n            var si = self.getSeatIndexByID(turnUserID);\r\n            self.doTurnChange(si);\r\n        });\r\n\r\n        //单局结算\r\n        cc.sssNet.addHandler(\"game_over_push\", function (data) {\r\n            console.log('game_over_push');\r\n            self.reset();\r\n            self.emitter.emit('game_over_Notify', data);\r\n        });\r\n\r\n        //大局结算\r\n        cc.sssNet.addHandler(\"game_result\", function (data) {\r\n            console.log('game_result');\r\n            self.reset();\r\n            self.emitter.emit('game_result_Notify', data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"game_chupai_notify_push\", function (data) {\r\n            var userId = data.userId;\r\n            var pai = data.pai;\r\n            var si = self.getSeatIndexByID(userId);\r\n            self.doChupai(si, pai);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"chat_push\", function (data) {\r\n            self.emitter.emit(\"chat_push\", data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"quick_chat_push\", function (data) {\r\n            self.emitter.emit(\"quick_chat_push\", data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"emoji_push\", function (data) {\r\n            self.emitter.emit(\"emoji_push\", data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"dissolve_notice_push\", function (data) {\r\n            console.log(\"dissolve_notice_push\");\r\n            console.log(data);\r\n            self.dissoveData = data;\r\n            self.emitter.emit('dissolve_notice', data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"stopEndTime\", function (data) {\r\n            console.log(\"stopEndTime\");\r\n            cc.log(data)\r\n            self.emitter.emit('stopEndTime');\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"dissolve_cancel_push\", function (data) {\r\n            self.dissoveData = null;\r\n            self.emitter.emit('dissolve_cancel', data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"voice_msg_push\", function (data) {\r\n            self.emitter.emit(\"voice_msg\", data);\r\n        });\r\n\r\n        cc.sssNet.addHandler(\"limit_login\", function (data) {\r\n            self.emitter.emit(\"limit_login\", data);\r\n        });\r\n        \r\n    },\r\n\r\n    doChupai: function (seatIndex, pai) {\r\n        this.chupai = pai;\r\n        var seatData = this.seats[seatIndex];\r\n        if (seatData.holds) {\r\n            var idx = seatData.holds.indexOf(pai);\r\n            seatData.holds.splice(idx, 1);\r\n        }\r\n        this.dispatchEvent('game_chupai_notify', { seatData: seatData, pai: pai });\r\n    },\r\n\r\n    doTurnChange: function (si) {\r\n        var data = {\r\n            last: this.turn,\r\n            turn: si,\r\n        }\r\n        this.turn = si;\r\n        this.dispatchEvent('game_chupai', data);\r\n    },\r\n\r\n    connectGameServer: function (data) {\r\n        this.dissoveData = null;\r\n        cc.sssNet.ip = data.ip + \":\" + data.port;\r\n        console.log(cc.sssNet.ip);\r\n        var self = this;\r\n\r\n        var onConnectOK = function () {\r\n            console.log(\"onConnectOK\");\r\n            var sd = {\r\n                token: data.token,\r\n                roomid: data.roomid,\r\n                time: data.time,\r\n                sign: data.sign,\r\n            };\r\n            self.initHandlers();\r\n            cc.sssNet.send(\"login\", sd);\r\n        };\r\n\r\n        var onConnectFailed = function () {\r\n            console.log(\"failed.\");\r\n        };\r\n        cc.scene.showPrefab(\"等待\", true, (node) => {\r\n            node.getComponent(\"Waiting\").init('正在进入游戏')\r\n        })\r\n        cc.sssNet.connect(onConnectOK, onConnectFailed);\r\n    }\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}