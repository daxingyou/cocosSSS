{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\BiaoQing.js"],"names":["BiaoQingPos","x","y","r","cc","Class","extends","Component","properties","jinbi","default","type","Node","yuanbao","onLoad","idx","init","from_dir","to_dir","from_pos","mj","game_cfg","bqpos","to_pos","node","biaoqing","getChildByName","animation_state","getComponent","Animation","play","wrapMode","WrapMode","Loop","repeatCount","Infinity","rotation","active","action","moveTo","p","runAction","setTimeout","parent"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,cAAc;AACd,OAAG,EAAEC,GAAG,GAAL,EAAUC,GAAG,GAAb,EAAkBC,GAAG,GAArB,EADW;AAEd,OAAG,EAAEF,GAAG,GAAL,EAAUC,GAAG,GAAb,EAAkBC,GAAG,GAArB,EAFW;AAGd,OAAG,EAAEF,GAAG,CAAC,GAAN,EAAWC,GAAG,EAAd,EAAkBC,GAAG,EAArB,EAHW;AAId,OAAG,EAAEF,GAAG,CAAC,GAAN,EAAWC,GAAG,CAAC,GAAf,EAAoBC,GAAG,CAAvB;AAJW,CAAlB;AAMAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAO;AACHC,qBAAS,IADN;AAEHC,kBAAMP,GAAGQ;AAFN,SADC;AAKRC,iBAAS;AACLH,qBAAS,IADJ;AAELC,kBAAMP,GAAGQ;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBS,SALD,EAHP;;AA6BL;AACAE,UA9BK,oBA8BI;AACL,aAAKC,GAAL,GAAW,CAAX;AACH,KAhCI;;AAiCLC,UAAM,cAAUL,IAAV,EAAgBM,QAAhB,EAA0BC,MAA1B,EAAkC;AAAA;;AACpC,YAAIC,WAAWf,GAAGgB,EAAH,CAAMC,QAAN,CAAeC,KAAf,CAAqB,KAAKL,QAA1B,CAAf;AACA,YAAIM,SAASnB,GAAGgB,EAAH,CAAMC,QAAN,CAAeC,KAAf,CAAqB,KAAKJ,MAA1B,CAAb;AACA,aAAKM,IAAL,CAAUvB,CAAV,GAAckB,SAASlB,CAAvB;AACA,aAAKuB,IAAL,CAAUtB,CAAV,GAAciB,SAASjB,CAAvB;AACA,aAAKuB,QAAL,GAAgB,KAAKD,IAAL,CAAUE,cAAV,CAAyBf,IAAzB,CAAhB;AACA,YAAIgB,kBAAkB,KAAKF,QAAL,CAAcG,YAAd,CAA2BxB,GAAGyB,SAA9B,EAAyCC,IAAzC,CAA8CnB,OAAO,MAArD,CAAtB;AACA;AACAgB,wBAAgBI,QAAhB,GAA2B3B,GAAG4B,QAAH,CAAYC,IAAvC;AACA;AACAN,wBAAgBO,WAAhB,GAA8BC,QAA9B;;AAEA,aAAKV,QAAL,CAAcW,QAAd,GAAyBzB,QAAQ,OAAR,GAAkBY,OAAOpB,CAAzB,GAA6B,CAAtD;AACA,aAAKsB,QAAL,CAAcY,MAAd,GAAuB,IAAvB;;AAEA,YAAIC,SAASlC,GAAGmC,MAAH,CAAU,GAAV,EAAenC,GAAGoC,CAAH,CAAKjB,OAAOtB,CAAZ,EAAesB,OAAOrB,CAAtB,CAAf,CAAb;AACA,aAAKsB,IAAL,CAAUiB,SAAV,CAAoBH,MAApB;AACAI,mBAAW,YAAM;AACb,kBAAKjB,QAAL,CAAcG,YAAd,CAA2BxB,GAAGyB,SAA9B,EAAyCC,IAAzC,CAA8CnB,OAAO,MAArD;AACA+B,uBAAW,YAAM;AAAE,sBAAKlB,IAAL,CAAUmB,MAAV,GAAmB,IAAnB;AAAyB,aAA5C,EAA8C,GAA9C;AACH,SAHD,EAGG,IAHH;AAIH;AACD;AAvDK,CAAT","file":"BiaoQing.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\nvar BiaoQingPos = {\r\n    1: { x: 600, y: 145, r: 170 },\r\n    2: { x: 445, y: 235, r: 140 },\r\n    3: { x: -610, y: 50, r: 30 },\r\n    4: { x: -600, y: -165, r: 0 },\r\n}\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        jinbi: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        yuanbao: {\r\n            default: null,\r\n            type: cc.Node\r\n        }\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    onLoad() {\r\n        this.idx = 0\r\n    },\r\n    init: function (type, from_dir, to_dir) {\r\n        let from_pos = cc.mj.game_cfg.bqpos[\"\" + from_dir]\r\n        let to_pos = cc.mj.game_cfg.bqpos[\"\" + to_dir]\r\n        this.node.x = from_pos.x\r\n        this.node.y = from_pos.y\r\n        this.biaoqing = this.node.getChildByName(type)\r\n        let animation_state = this.biaoqing.getComponent(cc.Animation).play(type + \"_fly\")\r\n        // 设置循环模式为 Loop\r\n        animation_state.wrapMode = cc.WrapMode.Loop;\r\n        // 设置动画循环次数为无限次\r\n        animation_state.repeatCount = Infinity;\r\n\r\n        this.biaoqing.rotation = type == \"jinbi\" ? to_pos.r : 0\r\n        this.biaoqing.active = true\r\n\r\n        let action = cc.moveTo(1.0, cc.p(to_pos.x, to_pos.y))\r\n        this.node.runAction(action)\r\n        setTimeout(() => {\r\n            this.biaoqing.getComponent(cc.Animation).play(type + \"_zha\")\r\n            setTimeout(() => { this.node.parent = null }, 350)\r\n        }, 1000)\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}