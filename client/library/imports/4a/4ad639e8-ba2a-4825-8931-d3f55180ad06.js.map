{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\EvtMgr.js"],"names":["cc","Class","extends","Component","pause_evt","properties","statics","init","mj","evt_cbs","evts","tick","regEvt","action","cb","regTickEvt","newEvt","data","push","newTickEvt","handleTickEvt","length","evt","splice","console","error","handleEvt","hasEvt","clear_evts","clear_tick_evts","clear"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,eAAW,KAFN;AAGLC,gBAAY,EAHP;AAMLC,aAAS;AACLC,cAAM,gBAAY;AACdP,eAAGQ,EAAH,CAAMC,OAAN,GAAgB,EAAhB;AACAT,eAAGQ,EAAH,CAAME,IAAN,GAAa,EAAb;AACAV,eAAGW,IAAH,GAAU,EAAV;AACAX,eAAGW,IAAH,CAAQD,IAAR,GAAe,EAAf;AACAV,eAAGW,IAAH,CAAQF,OAAR,GAAkB,EAAlB;AACH,SAPI;AAQLG,gBAAQ,gBAAUC,MAAV,EAAkBC,EAAlB,EAAsB;AAC1Bd,eAAGQ,EAAH,CAAMC,OAAN,CAAcI,MAAd,IAAwBC,EAAxB;AACH,SAVI;AAWLC,oBAAY,oBAAUF,MAAV,EAAkBC,EAAlB,EAAsB;AAC9Bd,eAAGW,IAAH,CAAQF,OAAR,CAAgBI,MAAhB,IAA0BC,EAA1B;AACH,SAbI;AAcLE,gBAAQ,gBAAUC,IAAV,EAAgB;AACpBjB,eAAGQ,EAAH,CAAME,IAAN,CAAWQ,IAAX,CAAgBD,IAAhB;AACH,SAhBI;AAiBLE,oBAAY,oBAAUF,IAAV,EAAgB;AACxBjB,eAAGW,IAAH,CAAQD,IAAR,CAAaQ,IAAb,CAAkBD,IAAlB;AACH,SAnBI;AAoBLG,uBAAe,yBAAY;AACvB,gBAAIpB,GAAGW,IAAH,CAAQD,IAAR,CAAaW,MAAjB,EAAyB;AACrB,oBAAIC,MAAMtB,GAAGW,IAAH,CAAQD,IAAR,CAAa,CAAb,CAAV;AACAV,mBAAGW,IAAH,CAAQD,IAAR,CAAaa,MAAb,CAAoB,CAApB,EAAuB,CAAvB;AACA,oBAAIT,KAAKd,GAAGW,IAAH,CAAQF,OAAR,CAAgBa,IAAIT,MAApB,CAAT;AACA,oBAAIC,EAAJ,EAAQ;AACJA,uBAAGQ,GAAH;AACH,iBAFD,MAEO;AACHE,4BAAQC,KAAR,CAAc,WAAd,EAA2BH,IAAIT,MAA/B;AACH;AACJ;AACJ,SA/BI;AAgCLa,mBAAW,qBAAY;AACnB,gBAAI1B,GAAGQ,EAAH,CAAME,IAAN,CAAWW,MAAf,EAAuB;AACnB,oBAAIC,MAAMtB,GAAGQ,EAAH,CAAME,IAAN,CAAW,CAAX,CAAV;AACAV,mBAAGQ,EAAH,CAAME,IAAN,CAAWa,MAAX,CAAkB,CAAlB,EAAqB,CAArB;AACA,oBAAIT,KAAKd,GAAGQ,EAAH,CAAMC,OAAN,CAAca,IAAIT,MAAlB,CAAT;AACA,oBAAIC,EAAJ,EAAQ;AACJA,uBAAGQ,GAAH;AACH,iBAFD,MAEO;AACHE,4BAAQC,KAAR,CAAc,WAAd,EAA2BH,IAAIT,MAA/B;AACH;AACJ;AACJ,SA3CI;AA4CLc,gBAAQ,kBAAY;AAChB,mBAAO3B,GAAGQ,EAAH,CAAME,IAAN,CAAWW,MAAlB;AACH,SA9CI;AA+CLO,oBAAY,sBAAY;AACpB5B,eAAGQ,EAAH,CAAME,IAAN,GAAa,EAAb;AACH,SAjDI;AAkDLmB,yBAAiB,2BAAY;AACzB7B,eAAGW,IAAH,CAAQD,IAAR,GAAe,EAAf;AACH,SApDI;AAqDLoB,eAAO,iBAAY;AACf9B,eAAGQ,EAAH,CAAMC,OAAN,GAAgB,EAAhB;AACH;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AAjES,KANJ,EAAT","file":"EvtMgr.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n    pause_evt: false,\r\n    properties: {\r\n\r\n    },\r\n    statics: {\r\n        init: function () {\r\n            cc.mj.evt_cbs = {}\r\n            cc.mj.evts = []\r\n            cc.tick = {}\r\n            cc.tick.evts = []\r\n            cc.tick.evt_cbs = {}\r\n        },\r\n        regEvt: function (action, cb) {\r\n            cc.mj.evt_cbs[action] = cb\r\n        },\r\n        regTickEvt: function (action, cb) {\r\n            cc.tick.evt_cbs[action] = cb\r\n        },\r\n        newEvt: function (data) {\r\n            cc.mj.evts.push(data)\r\n        },\r\n        newTickEvt: function (data) {\r\n            cc.tick.evts.push(data)\r\n        },\r\n        handleTickEvt: function () {\r\n            if (cc.tick.evts.length) {\r\n                let evt = cc.tick.evts[0]\r\n                cc.tick.evts.splice(0, 1)\r\n                let cb = cc.tick.evt_cbs[evt.action]\r\n                if (cb) {\r\n                    cb(evt)\r\n                } else {\r\n                    console.error(\"no cb for\", evt.action)\r\n                }\r\n            }\r\n        },\r\n        handleEvt: function () {\r\n            if (cc.mj.evts.length) {\r\n                let evt = cc.mj.evts[0]\r\n                cc.mj.evts.splice(0, 1)\r\n                let cb = cc.mj.evt_cbs[evt.action]\r\n                if (cb) {\r\n                    cb(evt)\r\n                } else {\r\n                    console.error(\"no cb for\", evt.action)\r\n                }\r\n            }\r\n        },\r\n        hasEvt: function () {\r\n            return cc.mj.evts.length\r\n        },\r\n        clear_evts: function () {\r\n            cc.mj.evts = []\r\n        },\r\n        clear_tick_evts: function () {\r\n            cc.tick.evts = []\r\n        },\r\n        clear: function () {\r\n            cc.mj.evt_cbs = {}\r\n        },\r\n    }\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    // start () {\r\n\r\n    // },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}