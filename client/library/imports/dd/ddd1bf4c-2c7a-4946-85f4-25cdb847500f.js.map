{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\Script\\sss\\sssgame/assets\\Script\\sss\\sssgame\\sssgame.js"],"names":["PaiType","require","ScenePopWin","cc","Class","extends","properties","canvas","type","Node","default","prepare","shezhiPaiNode","NorSeatsNode","myPaiNode","paiAtlas","SpriteAtlas","BBpaiAtlas","paiTexiao","shuzi","setType","gameStartNode","AnimationNode","gameOverNode","sssGameResultNode","setZhuangNode","btnMgrNode","cmdNode","startTime","dismiss_msg_prefab","Prefab","game_setting_prefab","_timeLabel","_voiceMsgQueue","_lastPlayingSeat","_playingSeat","_lastPlayTime","_gamecount","_startTimeLabel","_onLoad","window","sssGame","addComponent","settingBg","initView","initCanvas","initSheZhiPai","initGameStart","initGameOver","initSeats","initMyPai","initHandler","initSetType","initBtnMgr","audio","playBGM","Compare","totalData","onRefreshSeat","console","log","emitter","on","onGameHolds","bind","selfReady","otherReady","showMaPai","setResultData","resetGame","removeHandler","setGameNum","setOverData","setTotalResult","quickSwing","playerOutCardNotify","outMaxPai","setChat","setQuickChat","setEmoji","setVoice","setLastTime","offline","expression","setlixianTime","setdissolutionTime","limitLogin","gameStartTime","specialcard","userstateChange","off","data","sssNetMgr","seats","userid","mj","user","uid","scene","onShowTips","director","loadScene","gameSeatsCom","deleteOneSeat","resetOneSeat","color","getStylesssBg","hidenbg","find","bg","active","getComponent","Label","string","numOfGames","maxNumOfGames","_min","_second","_isExit","onDismiss","room","option","owner_uid","http","sendGame","method","mjroom","club_type","tspType","gameStartPaiCom","game","getChildByName","Animation","gameOverCom","sssGameResult","shezhiPaiCom","uidSeats","myPaiCom","initDt","btnReady","btnStart","bthYaoqing","btnCopy","btnDissolve","btnBack","seatIndex","onOpenSetting","vv","popupMgr","showSettings","dissolveNotice","showPrefab","node","init","dissolveCancel","removedissolveHandler","stopEndTime","outpaidata","resetGameSeats","reset","zjId","zjbiaoshi","setBtnReadyActive","i","length","seat","userId","isChuPai","paibei","isshow","getspecialname","num","dir","isOffline","online","index","getLocalIndex","seatindex","seatComs","setOffline","unschedule","setkaishi","setAnimation","setHolds","self","wanfa","zjID","setInfo","mapai","pai","Sprite","arrType","paiName","maPaiData","value","spriteFrame","getSpriteFrame","getType","playSFX","animation","kaishi","play","seq","sequence","delayTime","callFunc","runAction","resetReady","refreshSeats","onResetAllSeat","resetALLSeat","setPlayerReady","bActive","seatsNode","gameNormol","hiddenPai","showresultAnimation","setgamenormol","setkaishibipai","scheduleOnce","setZhuang","seatData","nameNode","nameLabel","imgLoader","name","tag","setUserID","icon","zhuang","overData","timenum","showOver","setAllScoreResult","showTotalResult","showResult","idx","getSeatIndexByID","sender","localIdx","chat","content","info","getQuickChatInfo","sound","emoji","push","playVoice","shift","localIndex","voiceMsg","msgInfo","JSON","parse","url","msg","voiceMgr","playFromUrl","Date","now","time","onNameBtnClick","event","target","sssNet","send","onBtnClick","strings","cmd","list","_userId","userinfoShow","onClicked","userinfo","SSSwanfa","sys","localStorage","setItem","roomId","browserType","anysdkMgr","getAccess_token","os","OS_ANDROID","OS_IOS","agent","anysdk","agentManager","share_plugin","getSharePlugin","setListener","onShareResult","shareUrl","code","ShareResultCode","kShareSuccess","kShareFail","kShareCancel","kShareNetworkError","onBtnHideWebShare","title","text","imagePath","to","map","mediaType","shareTo","thumbImage","jsb","fileUtils","getWritablePath","share","prepareCom","lastTime","setCountdown","_time","min","sec","t","Math","ceil","floor","date","update","dt","minutes","_lastMinute","h","getHours","m","getMinutes","onPlayerOver","resumeAll","onDestroy","stop"],"mappings":"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","file":"sssgame.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\sss\\sssgame","sourcesContent":["var PaiType = require(\"define\").PaiType;\r\nvar ScenePopWin = require('../../lib/ScenePopWin')\r\n\r\ncc.Class({\r\n    extends: ScenePopWin,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        canvas: {\r\n            type: cc.Node,\r\n            default: null\r\n        },\r\n        prepare: {\r\n            type: cc.Node,\r\n            default: null\r\n        },\r\n        shezhiPaiNode: {\r\n            type: cc.Node,\r\n            default: null\r\n        },\r\n        NorSeatsNode: {\r\n            type: cc.Node,\r\n            default: null\r\n        },\r\n        myPaiNode: {\r\n            type: cc.Node,\r\n            default: null\r\n        },\r\n        paiAtlas: {\r\n            default: null,\r\n            type: cc.SpriteAtlas\r\n        },\r\n        BBpaiAtlas: {\r\n            default: null,\r\n            type: cc.SpriteAtlas\r\n        },\r\n        paiTexiao: {\r\n            default: null,\r\n            type: cc.SpriteAtlas\r\n        },\r\n        shuzi: {\r\n            default: null,\r\n            type: cc.SpriteAtlas\r\n        },\r\n        setType: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        gameStartNode: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        AnimationNode: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        gameOverNode: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        sssGameResultNode: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        setZhuangNode: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        btnMgrNode: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        cmdNode:{\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        startTime: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        dismiss_msg_prefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        game_setting_prefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        _timeLabel: null,\r\n        _voiceMsgQueue: [],\r\n        _lastPlayingSeat: null,\r\n        _playingSeat: null,\r\n        _lastPlayTime: null,\r\n        _gamecount: null,\r\n        _startTimeLabel:null,\r\n        \r\n    },\r\n\r\n    // use this for initialization\r\n    _onLoad: function () {\r\n        window.sssGame = this;\r\n\r\n        this.addComponent(\"UserInfoShow\");\r\n\r\n        this.settingBg();\r\n\r\n        this.initView();\r\n        this.initCanvas();\r\n        this.initSheZhiPai();\r\n        this.initGameStart();\r\n        this.initGameOver();\r\n        this.initSeats();\r\n        this.initMyPai();\r\n        this.initHandler();\r\n        this.initSetType();\r\n        this.initBtnMgr();\r\n        // 解散房间脚本\r\n        this.addComponent(\"PopupMgr\");\r\n\r\n        //断线重连脚本\r\n        // this.addComponent('ReConnect');\r\n\r\n        // this.addComponent(\"Status\");\r\n        cc.audio.playBGM(\"sssMusic/BMG1.mp3\")\r\n\r\n        this.Compare = require(\"Compare\");\r\n\r\n        this.totalData = null;\r\n        \r\n        this.onRefreshSeat();\r\n\r\n        console.log(\"sssgame init\")\r\n    },\r\n    initHandler: function () {\r\n        this.emitter = cc.emitter;\r\n        this.emitter.on('game_holds', this.onGameHolds.bind(this));\r\n        this.emitter.on('refresh_seat', this.onRefreshSeat.bind(this));\r\n        this.emitter.on('self_ready', this.selfReady.bind(this));\r\n        this.emitter.on('other_ready', this.otherReady.bind(this));\r\n        this.emitter.on('game_mapai', this.showMaPai.bind(this));\r\n        this.emitter.on('compare_result', this.setResultData.bind(this));\r\n        this.emitter.on('game_begin', this.resetGame.bind(this));\r\n        this.emitter.on('remove_handler', this.removeHandler.bind(this));\r\n        this.emitter.on('game_num_notify', this.setGameNum.bind(this));\r\n        this.emitter.on('game_over_Notify', this.setOverData.bind(this));\r\n        this.emitter.on('game_result_Notify', this.setTotalResult.bind(this));\r\n        this.emitter.on('quick_swing_notify', this.quickSwing.bind(this));\r\n        this.emitter.on('player_outCard_notify', this.playerOutCardNotify.bind(this));\r\n        this.emitter.on('out_maxPai_Notify', this.outMaxPai.bind(this));\r\n        this.emitter.on('chat_push', this.setChat.bind(this));\r\n        this.emitter.on('quick_chat_push', this.setQuickChat.bind(this));\r\n        this.emitter.on('emoji_push', this.setEmoji.bind(this));\r\n        this.emitter.on('voice_msg', this.setVoice.bind(this));\r\n        this.emitter.on('set_lastTime', this.setLastTime.bind(this));\r\n        this.emitter.on('user_state_offline', this.offline.bind(this));\r\n        this.emitter.on('expression_notify', this.expression.bind(this));\r\n        this.emitter.on('set_lixianTime', this.setlixianTime.bind(this));\r\n        this.emitter.on('set_dissolutionTime', this.setdissolutionTime.bind(this));\r\n        this.emitter.on('limit_login', this.limitLogin.bind(this));\r\n        this.emitter.on('game_start_lastTime',this.gameStartTime.bind(this));\r\n        this.emitter.on('special_card',this.specialcard.bind(this));\r\n        this.emitter.on('settingBg',this.settingBg.bind(this));\r\n\r\n        this.emitter.on('user_state_changed',this.userstateChange.bind(this));\r\n    },\r\n    removeHandler: function () {\r\n        this.emitter.off('game_holds');\r\n        this.emitter.off('refresh_seat');\r\n        this.emitter.off('self_ready');\r\n        this.emitter.off('other_ready');\r\n        this.emitter.off('game_mapai');\r\n        this.emitter.off('compare_result');\r\n        this.emitter.off('game_begin');\r\n        this.emitter.off('remove_handler');\r\n        this.emitter.off('game_num_notify');\r\n        this.emitter.off('game_over_Notify');\r\n        this.emitter.off('quick_swing_notify');\r\n        this.emitter.off('game_result_Notify');\r\n        this.emitter.off('player_outCard_notify');\r\n        this.emitter.off('out_maxPai_Notify');\r\n        this.emitter.off('chat_push');\r\n        this.emitter.off('quick_chat_push');\r\n        this.emitter.off('emoji_push');\r\n        this.emitter.off('voice_msg');\r\n        this.emitter.off('set_lastTime');\r\n        this.emitter.off('user_state_offline');\r\n        this.emitter.off('expression_notify');\r\n        this.emitter.off('set_lixianTime');\r\n        this.emitter.off('set_dissolutionTime');\r\n        this.emitter.off('limit_login');\r\n        this.emitter.off('game_start_lastTime')\r\n        this.emitter.off('special_card')\r\n        this.emitter.off('settingBg')\r\n        this.emitter.off('user_state_changed')\r\n    },\r\n    userstateChange(data){\r\n        cc.log(data);\r\n        cc.log(cc.sssNetMgr.seats);\r\n        if(data.userid == cc.mj.user.uid){\r\n            cc.scene.onShowTips('OK','您已被踢出房间',()=>{\r\n                cc.director.loadScene(\"hall\");\r\n            })\r\n        }else{\r\n            this.gameSeatsCom.deleteOneSeat(data);\r\n            cc.sssNetMgr.resetOneSeat(data.userid);\r\n            // this.onRefreshSeat();\r\n        }\r\n    },\r\n    settingBg:function(){\r\n        var color=cc.mj.user.getStylesssBg()\r\n        if(color == 'blue'){\r\n            this.hidenbg=cc.find(\"Canvas/bg_green\")\r\n            this.bg=cc.find(\"Canvas/bg_blue\")\r\n        }else{\r\n            this.hidenbg =cc.find(\"Canvas/bg_blue\")\r\n            this.bg =cc.find(\"Canvas/bg_green\")\r\n        }\r\n        this.hidenbg.active = false;\r\n        this.bg.active = true\r\n    },\r\n    initView: function () {\r\n        this._timeLabel = cc.find(\"Canvas/infobar/time\").getComponent(cc.Label);\r\n        this._gamecount = cc.find(\"Canvas/gameStart/gamecount\").getComponent(cc.Label); \r\n        // this._gamecount.string = \"  \" + \"1\" + \"/\" + cc.sssNetMgr.maxNumOfGames + \"局\";\r\n        this._gamecount.string = \"  \" + (cc.sssNetMgr.numOfGames == 0 ? \"1\" : cc.sssNetMgr.numOfGames) + \"/\" + cc.sssNetMgr.maxNumOfGames + \"局\";\r\n        this._min = cc.find(\"Canvas/notice/minute\").getComponent(cc.Label);\r\n        this._second = cc.find(\"Canvas/notice/second\").getComponent(cc.Label);\r\n        this._isExit = 0;\r\n\r\n        console.log('initView end')\r\n    },\r\n    onDismiss: function () {\r\n        let type = this.room.option.type\r\n        if (type == \"PERSONAL\") {\r\n            if (this.room.owner_uid == cc.mj.user.uid) {\r\n                cc.scene.onShowTips(\"OK_CANCEL\", \"解散房间不扣房卡，是否确定解散？\", () => {\r\n                    http.sendGame({ method: \"exit_game\" }, () => { cc.mjroom = null; cc.director.loadScene(\"hall\") })\r\n                })\r\n            } else {\r\n                http.sendGame({ method: \"exit_game\" }, () => { cc.mjroom = null; cc.director.loadScene(\"hall\") })\r\n            }\r\n        } else {\r\n            cc.club_type = this.room.option.type\r\n            http.sendGame({ method: \"exit_game\" }, () => { cc.mjroom = null; cc.director.loadScene(\"club\") })\r\n        }\r\n    },\r\n    initCanvas: function () {\r\n        this.tspType = cc.find(\"Canvas/tspType\");\r\n    },\r\n    initGameStart: function () {\r\n        this.gameStartNode.active = true;\r\n        this.gameStartPaiCom = this.gameStartNode.getComponent('gameStart');\r\n        this.gameStartPaiCom.game = this;\r\n        this.gameStartNode.getChildByName('gameSeats').active = true;\r\n        this.gameSeatsCom = this.gameStartNode.getChildByName('gameSeats').getComponent('gameSeats');\r\n        this.Animation = this.AnimationNode.getComponent('Animation');\r\n    },\r\n    initGameOver: function () {\r\n        this.gameOverCom = this.gameOverNode.getComponent('game_over');\r\n        this.sssGameResult = this.sssGameResultNode.getComponent('sssGameResult');\r\n    },\r\n    initSheZhiPai: function () {\r\n        this.shezhiPaiCom = this.shezhiPaiNode.getComponent('shezhipai');\r\n        this.shezhiPaiCom.game = this;\r\n    },\r\n    initSeats: function () {\r\n        this.uidSeats = {}\r\n        this.gameStartNode.active = true;\r\n        this.gameStartPaiCom = this.gameStartNode.getComponent('gameStart');\r\n        this.gameStartPaiCom.game = this;\r\n        this.gameStartNode.getChildByName('gameSeats').active = true;\r\n        this.gameSeatsCom = this.gameStartNode.getChildByName('gameSeats').getComponent('gameSeats');\r\n        this.Animation = this.AnimationNode.getComponent('Animation');\r\n    },\r\n    initMyPai: function () {\r\n        this.myPaiCom = this.myPaiNode.getComponent('myPai');\r\n        this.myPaiCom.initDt();\r\n        this.myPaiCom.game = this;\r\n    },\r\n    // 初始化按钮\r\n    initBtnMgr: function () {\r\n        this.btnMgrNode.active = true;\r\n        this.btnReady = this.btnMgrNode.getChildByName('btnReady');\r\n        this.btnStart = this.btnMgrNode.getChildByName('btnStart');\r\n        this.bthYaoqing = this.btnMgrNode.getChildByName('bthYaoqing');\r\n        this.btnCopy = this.btnMgrNode.getChildByName('btnCopy');\r\n        this.btnDissolve = this.btnMgrNode.getChildByName('btnDissolve');\r\n        this.btnBack = this.btnMgrNode.getChildByName('btnBack');\r\n        if (cc.sssNetMgr.seatIndex !== 0) {\r\n            this.btnDissolve.active = false;\r\n            this.btnReady.active = true;\r\n        }else{\r\n            this.btnReady.active = false;\r\n            this.btnStart.active=true;\r\n        }\r\n    },\r\n    // 打开设置\r\n    onOpenSetting: function () {\r\n        cc.vv.popupMgr.showSettings();\r\n    },\r\n    dissolveNotice:function(data){\r\n        cc.log(data)\r\n        cc.scene.showPrefab(\"解散房间\", false, (node) => {\r\n            node.getComponent(\"DismissMsg\").init(data,\"SSS\")\r\n        })\r\n    },\r\n    dissolveCancel:function(data){\r\n        cc.log(data)\r\n    },\r\n    removedissolveHandler:function(data){\r\n        cc.log(data)\r\n    },\r\n    stopEndTime:function(data){\r\n        cc.log(data)\r\n    },\r\n    //将游戏刷新，游戏重新开始\r\n    resetGame: function () {\r\n        cc.log(\"resetGame\")\r\n        window.sssGame.outpaidata=null\r\n        cc.find(\"Canvas/notice\").active = false;\r\n        cc.find(\"Canvas/game_over\").active = false;\r\n        this.onRefreshSeat();\r\n        this.gameStartPaiCom.resetGameSeats();\r\n        this.gameOverCom.active=false;\r\n        this.prepare.getComponent('touch').reset();\r\n        if (this.zjId) {\r\n            this.zjbiaoshi(this.zjId);\r\n        }\r\n    },\r\n\r\n    playerOutCardNotify: function (data) {\r\n        cc.find(\"Canvas/notice\").active = false;\r\n        cc.find(\"Canvas/btnMgr/btnDissolve\").active = false;\r\n        this.setBtnReadyActive(false);\r\n        // console.log(this.uidSeats)\r\n        for (var i = 0; i < data.length; i++) {\r\n            let seat = this.uidSeats[data[i].userId]\r\n            if (data[i].isChuPai == true && seat) {\r\n                seat.paibei()\r\n            }\r\n        }\r\n        // this.seatsCom.setPlayerInfo(data);\r\n    },\r\n    specialcard:function(data){\r\n        cc.log(data);\r\n        this.tspType = cc.find(\"Canvas/tspType\");\r\n        if(data.isshow){\r\n            this.tspType.getComponent(cc.Label).string=this.getspecialname(data.type);\r\n            this.tspType.active=true;\r\n        }else{\r\n            this.tspType.active=false;\r\n        }\r\n    },\r\n    getspecialname:function(type){\r\n        var num=type+\"\";\r\n        var string='';\r\n        var dir={\r\n            '11':'三顺子',\r\n            '12':'三同花',\r\n            '13':'六对半',\r\n            '14':'五对三条',\r\n            '15':'凑一色',\r\n            '16':'全小',\r\n            '17':'全大',\r\n            '18':'六六大顺',\r\n            '19':'四套三条',\r\n            '20':'十二皇族',\r\n            '21':'三同花顺',\r\n            '22':'七星高照',\r\n            '23':'三分天下',\r\n            '24':'一条龙',\r\n            '25':'八仙过海',\r\n            '26':'至尊清龙',\r\n        }\r\n        string=dir[num];\r\n        return string;\r\n    },\r\n    setGameNum: function (data) {\r\n        this._gamecount.string = \"  \" + cc.sssNetMgr.numOfGames + \"/\" + cc.sssNetMgr.maxNumOfGames + \"局\";\r\n    },\r\n\r\n    offline: function (data) {\r\n        cc.log(data);\r\n        var seat = data;\r\n        var isOffline = !seat.online\r\n        var index = cc.sssNetMgr.getLocalIndex(seat.seatindex);\r\n        this.gameSeatsCom.seatComs[index].setOffline(isOffline);\r\n\r\n    },\r\n\r\n    expression: function (data) {       //表情\r\n        this.gameStartPaiCom.expression(data);\r\n    },\r\n\r\n    outMaxPai: function () {\r\n        // this.seatsNode.active = true;\r\n        this.shezhiPaiCom.reset();\r\n\r\n        this.unschedule(this.setkaishi);\r\n        this.unschedule(this.setAnimation);\r\n        this.unschedule(this.setHolds);\r\n    },\r\n\r\n    onGameHolds: function () {\r\n        cc.find(\"Canvas/notice\").active = false;\r\n        this.setBtnReadyActive(false);\r\n        this.btnDissolve.active = false;\r\n        this.onRefreshSeat();\r\n        var self = this;\r\n\r\n        if (cc.sssNetMgr.wanfa === 1 && cc.sssNetMgr.zjID) {\r\n            this.zjbiaoshi(cc.sssNetMgr.zjID);\r\n        }\r\n\r\n        this.setAnimation = function () {\r\n            //发牌动画\r\n            // self.seatsCom.fapaiAnimate();\r\n        }\r\n\r\n        this.setHolds = function () {\r\n            console.log('onGameHolds');\r\n            // self.seatsCom.reset();\r\n            if (!self.myPaiCom.setInfo()) {\r\n                return;\r\n            }\r\n            var mapai = cc.find(\"Canvas/prepare/shezhipai/mapai\");\r\n            mapai.active = false;\r\n            if (cc.sssNetMgr.wanfa === 3) {  //马牌\r\n                mapai.active = true;\r\n                var paiAtlas = window.sssGame.paiAtlas;\r\n                var pai = cc.find(\"Canvas/prepare/shezhipai/mapai/pai\").getComponent(cc.Sprite);\r\n                var arrType = [\"hua\", \"tao\", \"xin\", \"fangkuai\"];\r\n                var paiName = arrType[cc.sssNetMgr.maPaiData.type] + cc.sssNetMgr.maPaiData.value;\r\n                var spriteFrame = paiAtlas.getSpriteFrame(paiName);\r\n                pai.spriteFrame = spriteFrame;\r\n            }\r\n            self.prepare.active = true;\r\n            self.setType.getType();\r\n            // self.seatsNode.active = false;\r\n            cc.audio.playSFX(\"sssMusic/qingchupai.mp3\");\r\n        }\r\n\r\n        this.setkaishi = function () {\r\n            var animation = this.Animation.kaishi.getComponent(cc.Animation);\r\n            this.Animation.kaishi.getComponent(cc.Animation).play('kaishi');\r\n            if (cc.sssNetMgr.wanfa === 2 || cc.sssNetMgr.wanfa === 3) {\r\n                var seq = cc.sequence(cc.delayTime(1.0), cc.callFunc(this.setAnimation), cc.delayTime(4.0), cc.callFunc(this.setHolds));\r\n            }\r\n            else {\r\n                var seq = cc.sequence(cc.delayTime(1.0), cc.callFunc(this.setAnimation), cc.delayTime(2.0), cc.callFunc(this.setHolds));\r\n            }\r\n\r\n            this.Animation.kaishi.active = true;\r\n            this.Animation.kaishi.runAction(seq);\r\n\r\n            // this.seatsCom.start();\r\n        }\r\n        // this.scheduleOnce(this.setkaishi, 1.0);\r\n        // this.scheduleOnce(this.setHolds, 1.0);\r\n\r\n        this.setHolds();\r\n        this.resetReady();\r\n    },\r\n\r\n    onRefreshSeat: function () {\r\n        // this.seatsCom.refreshSeats();\r\n        this.gameSeatsCom.refreshSeats();\r\n    },\r\n\r\n    onResetAllSeat: function () {\r\n        // this.seatsCom.resetALLSeat();\r\n        this.gameSeatsCom.resetALLSeat();\r\n    },\r\n\r\n    initSetType: function () {\r\n        this.setType = this.setType.getComponent('setType');\r\n        this.setType.game = this;\r\n    },\r\n\r\n    selfReady: function (data) {\r\n        console.log(\"selfReady\");\r\n        console.log(data)\r\n        this.setBtnReadyActive(false);\r\n        var userId = data.userid;\r\n        // this.seatsCom.setPlayerReady(userId);\r\n        this.gameSeatsCom.setPlayerReady(userId);\r\n    },\r\n\r\n    otherReady: function (data) {\r\n        console.log(\"otherReady\");\r\n        var userId = data.userid;\r\n        // this.seatsCom.setPlayerReady(userId);\r\n        this.gameSeatsCom.setPlayerReady(userId);\r\n    },\r\n\r\n    resetReady: function () {\r\n        // this.seatsCom.resetReady();\r\n        this.gameSeatsCom.resetReady();\r\n    },\r\n\r\n    setBtnReadyActive: function (bActive) {\r\n        this.btnReady.active = bActive;\r\n        this.btnStart.active = bActive;\r\n        this.bthYaoqing.active = bActive;\r\n        this.btnCopy.active = bActive;\r\n        this.btnDissolve.active = false;\r\n        this.btnBack.active = false;\r\n    },\r\n\r\n    showMaPai: function () {\r\n        console.log(\"setMaPai\");\r\n    },\r\n\r\n    setResultData: function (data) {\r\n        var self = this;\r\n        // this.tspType = cc.find(\"Canvas/tspType\");\r\n        this.tspType.active=false;\r\n        cc.find(\"Canvas/notice\").active = false;\r\n        this.btnDissolve.active = false;\r\n        console.log( data);\r\n        if (this.seatsNode) {\r\n            this.seatsNode.active = false;\r\n        }\r\n        if (this.gameStartNode) {\r\n            this.gameStartNode.active = true;\r\n        }\r\n        this.setBtnReadyActive(false);\r\n        // var resultdata=data;\r\n        // this.showresultAnimation(resultdata);\r\n        \r\n        // this.seatsCom.emptyChatBubble();\r\n        this.gameStartPaiCom.gameNormol(data);\r\n        this.gameOverCom.hiddenPai(true);//显示牌\r\n    },\r\n    showresultAnimation:function (data) {\r\n        var self=this;\r\n        // 加个动画\r\n        this.setgamenormol=function(){\r\n            self.gameStartPaiCom.gameNormol(data);\r\n            self.gameOverCom.hiddenPai(true);//显示牌\r\n        }\r\n        this.setkaishibipai=function () {\r\n            var animation = this.Animation.kaishi.getComponent(cc.Animation);\r\n            this.Animation.kaishi.getComponent(cc.Animation).play('kaishi');\r\n            cc.audio.playSFX(\"sssMusic/kaishibipai.mp3\");\r\n            var seq = cc.sequence(cc.delayTime(2.0), cc.callFunc(this.setgamenormol));\r\n\r\n            this.Animation.kaishi.active = true;\r\n            this.Animation.kaishi.runAction(seq);\r\n        }\r\n\r\n\r\n        this.scheduleOnce(this.setkaishibipai, 2.0);\r\n        // this.gameStartPaiCom.gameNormol(data);\r\n        // this.gameOverCom.hiddenPai(true);//显示牌\r\n        \r\n    },\r\n    setZhuang: function () {\r\n        this.setZhuangNode.active = true;\r\n        var seatData = cc.sssNetMgr.seats;\r\n        for (var i = 0; i < 4; i++) {\r\n            var nameNode = this.setZhuangNode.getChildByName(\"name\" + i);\r\n            var nameLabel = nameNode.getChildByName(\"Label\").getComponent(cc.Label);\r\n            seatData[i].imgLoader = nameNode.getComponent(\"ImageLoader\");\r\n            nameLabel.string = seatData[i].name;\r\n            nameNode.tag = seatData[i].userid;\r\n            if (seatData[i].imgLoader && seatData[i].userid) {\r\n                seatData[i].imgLoader.setUserID(seatData[i].userid, data.icon);\r\n            }\r\n        }\r\n    },\r\n    zjbiaoshi: function (data) { //庄家标识\r\n        this.zjId = data;\r\n        var self = this;\r\n        var seatData = cc.sssNetMgr.seats;\r\n        for (var i = 0; i < seatData.length; i++) {\r\n            if (seatData[i].userid === data) {\r\n                var index = cc.sssNetMgr.getLocalIndex(seatData[i].seatindex);\r\n                // self.seatsCom.seatComs[index].zhuang.active = true;\r\n                self.gameSeatsCom.seatComs[index].zhuang.active = true;\r\n            }\r\n        }\r\n    },\r\n\r\n    //单局结算\r\n    setOverData: function (data) {\r\n        this.btnDissolve.active = false;\r\n        console.log('setOverData: ' + data);\r\n        cc.log(data);\r\n        this.overData = data;\r\n    },\r\n    gameStartTime(data) {\r\n        this._startTimeLabel = cc.find(\"Canvas/time/timeNum\").getComponent(cc.Label);\r\n        if ((this.btnReady.active) && (data>1000) ) {\r\n            var timenum = data / 1000\r\n            timenum = timenum >= 10 ? timenum : \"0\" + timenum;\r\n            this._startTimeLabel.string = timenum;\r\n            this.startTime.active = true;\r\n        } else {\r\n            this.startTime.active = false;\r\n        }\r\n    },\r\n    showOver: function () {\r\n        if (this.overData) {\r\n            this.setBtnReadyActive(false);\r\n            this.gameOverNode.active = true;\r\n            this.gameOverCom.showOver(this.overData);\r\n            this.gameSeatsCom.setAllScoreResult(this.overData);\r\n            // this.seatsCom.setAllScoreResult(this.overData);\r\n\r\n            this.btnReady.active = true;//显示准备按钮\r\n\r\n            // this.seatsCom.reset();\r\n        }\r\n    },\r\n\r\n    //总局结算\r\n    setTotalResult: function (data) {\r\n        this.btnDissolve.active = false;\r\n        console.log('setTotalResult: ' + data);\r\n        this.totalData = data;\r\n        if (cc.sssNetMgr.numOfGames < cc.sssNetMgr.maxNumOfGames) {\r\n            this.showTotalResult();\r\n        }\r\n    },\r\n\r\n    showTotalResult: function () {\r\n        if (this.totalData) {\r\n            this.gameOverNode.active = false;\r\n            this.sssGameResultNode.active = true;\r\n            this.sssGameResult.showResult(this.totalData);\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    },\r\n\r\n    setChat: function (data) {\r\n        var self = this;\r\n        var idx = cc.sssNetMgr.getSeatIndexByID(data.sender);\r\n        var localIdx = cc.sssNetMgr.getLocalIndex(idx);\r\n        // self.seatsCom.seatComs[localIdx].chat(data.content);\r\n        self.gameSeatsCom.seatComs[localIdx].chat(data.content);\r\n    },\r\n\r\n    setQuickChat: function (data) {\r\n        var self = this;\r\n        var idx = cc.sssNetMgr.getSeatIndexByID(data.sender);\r\n        var localIdx = cc.sssNetMgr.getLocalIndex(idx);\r\n\r\n        var index = data.content;\r\n        var info = cc.vv.chat.getQuickChatInfo(index);\r\n        // self.seatsCom.seatComs[localIdx].chat(info.content);\r\n        self.gameSeatsCom.seatComs[localIdx].chat(info.content);\r\n\r\n        cc.audio.playSFX(info.sound);\r\n    },\r\n\r\n    setEmoji: function (data) {\r\n        var self = this;\r\n        var idx = cc.sssNetMgr.getSeatIndexByID(data.sender);\r\n        var localIdx = cc.sssNetMgr.getLocalIndex(idx);\r\n        console.log(data);\r\n        // self.seatsCom.seatComs[localIdx].emoji(data.content);\r\n        self.gameSeatsCom.seatComs[localIdx].emoji(data.content);\r\n    },\r\n\r\n    setVoice: function (data) {\r\n        var self = this;\r\n        self._voiceMsgQueue.push(data);\r\n        self.playVoice();\r\n    },\r\n\r\n    playVoice: function () {\r\n        if (this._playingSeat == null && this._voiceMsgQueue.length) {\r\n            console.log(\"playVoice2\");\r\n            var data = this._voiceMsgQueue.shift();\r\n            var idx = cc.sssNetMgr.getSeatIndexByID(data.sender);\r\n            var localIndex = cc.sssNetMgr.getLocalIndex(idx);\r\n            this._playingSeat = localIndex;\r\n            // this.seatsCom.seatComs[localIndex].voiceMsg(true);\r\n            this.gameSeatsCom.seatComs[localIndex].voiceMsg(true);\r\n\r\n            var msgInfo = JSON.parse(data.content);\r\n            var url = msgInfo.msg;\r\n            cc.vv.voiceMgr.playFromUrl(url);\r\n            this._lastPlayTime = Date.now() + msgInfo.time;\r\n        }\r\n    },\r\n\r\n    //快速摆牌\r\n    quickSwing: function (data) {\r\n        this.prepare.getComponent('touch').quickSwing(data);\r\n        cc.audio.playSFX(\"sssMusic/fangpai.mp3\");\r\n    },\r\n\r\n    onNameBtnClick: function (event) {\r\n        console.log(\"onNameBtnClick event.target.tag:\" + event.target.tag);\r\n        var userId = event.target.tag;\r\n        cc.sssNet.send(\"assign_zj\", userId);\r\n        this.setZhuangNode.active = false;\r\n    },\r\n\r\n    onBtnClick: function (event) {\r\n        var self = this;\r\n        if (event.target.name == \"btnBack\") {\r\n            cc.scene.onShowTips(\"OK_CANCEL\", \"返回大厅房间仍会保留，快去邀请大伙来玩吧！\", () => {\r\n                cc.sssNet.send('backToHall');\r\n                self.removeHandler();\r\n                cc.director.loadScene(\"hall\");\r\n            })\r\n        }\r\n        else if (event.target.name == \"btnDissolve\") {\r\n            cc.scene.onShowTips(\"OK_CANCEL\", \"解散房间不扣房卡，是否确定解散？\", () => {\r\n                cc.sssNet.send(\"dispress\");\r\n            })\r\n        }\r\n        else if (event.target.name == \"btnReady\" ) {\r\n            console.log(\"onBtnReady\");\r\n            // var data = null;\r\n            // cc.sssNet.send('ready',data);\r\n            var data = {}\r\n            var strings = this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string;\r\n            switch (strings) {\r\n                case 'zzql':\r\n                    data.cmd = \"02,03,04,05,06,07,08,09,010,011,012,013,014\"\r\n                    break;\r\n                case 'ytl':\r\n                    data.cmd = \"12,03,34,25,16,37,08,09,010,111,212,013,014\"\r\n                    break;\r\n                case 'ldb':\r\n                    data.cmd = \"12,02,33,23,14,34,05,05,09,19,212,012,014\"\r\n                    break;\r\n                case 'bxgh':\r\n                    data.cmd = \"16,06,36,26,16,36,06,06,15,24,212,012,014\"\r\n                    break;\r\n                case 'qxgz':\r\n                    data.cmd = \"17,07,37,27,17,37,07,02,13,26,212,012,014\"\r\n                    break;\r\n                case 'llds':\r\n                    data.cmd = \"16,06,36,26,16,36,02,03,16,26,212,012,014\"\r\n                    break;\r\n                case 'SFTX':\r\n                    data.cmd = \"16,06,36,26,17,37,07,27,112,212,312,012,05\"\r\n                    break;\r\n                case 'SEHZ':\r\n                    data.cmd = \"111,011,311,211,112,312,212,012,113,213,313,014,014\"\r\n                    break;\r\n                case 'STST': \r\n                    data.cmd = \"16,06,36,27,17,37,09,29,19,112,212,012,03\"\r\n                    break;\r\n                case 'STHS': \r\n                    data.cmd = \"17,18,19,24,25,26,27,28,09,010,012,011,013\"\r\n                    break;\r\n                case 'QD':\r\n                    data.cmd = \"18,08,39,29,110,310,010,012,112,213,212,012,014\"\r\n                    break;\r\n                case 'QX':\r\n                    data.cmd = \"16,03,34,27,16,36,02,03,18,26,27,04,05\"\r\n                    break;\r\n                case 'CYS':\r\n                    data.cmd = \"02,13,04,15,06,07,13,07,18,011,112,013,110\"\r\n                    break;\r\n                case 'WDST':\r\n                    data.cmd = \"02,02,04,04,06,06,08,08,010,010,112,212,012\"\r\n                    break;\r\n                case 'STH':\r\n                    data.cmd = \"02,03,06,15,16,17,18,19,310,311,312,35,36\"\r\n                    break;\r\n                case 'SSZ':\r\n                    data.cmd = \"05,03,04,15,26,07,38,19,110,311,012,213,09\"\r\n                    break;\r\n                default:\r\n                    data = null ;\r\n                    break;\r\n            }\r\n            cc.log(data)\r\n            cc.sssNet.send('ready',data);\r\n            this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = '';\r\n        }\r\n        else if (event.target.name == \"btnStart\"){\r\n            console.log(\"onBtnStart\");\r\n            cc.log(cc.sssNetMgr)\r\n            var numOfGames=0;\r\n            var list=cc.sssNetMgr.seats;\r\n            for(var i=0;i<list.length;i++){\r\n                if (list[i].userid !=0){\r\n                    numOfGames++;\r\n                }\r\n            }\r\n            if (numOfGames>1){\r\n                cc.sssNet.send('ready', null);\r\n            }else{\r\n                cc.scene.onShowTips(\"OK\", \"玩家数量不够，无法开始\");\r\n            }\r\n        }\r\n        else if (event.target.name == \"btnSetting\") {\r\n            cc.scene.showPrefab(\"设置\", false, (node) => {\r\n                node.getComponent(\"Setting\").init(\"GAME\")\r\n            })\r\n        }\r\n        else if(event.target.name == \"kickout\"){\r\n            //踢出游戏\r\n            var _userId = cc.vv.userinfoShow._userId;\r\n            var data= {};\r\n            data.userId = _userId;\r\n            cc.log(\"kickout\"+\"@@@@@@@\"+data.userId)\r\n            cc.sssNet.send(\"kickout\",data);\r\n            cc.vv.userinfoShow.onClicked();\r\n        }\r\n        else if(event.target.name == \"useinfo_hide\"){\r\n            var userinfo = cc.find(\"Canvas/userinfo\");\r\n            userinfo.active = false;\r\n        }\r\n        else if (event.target.name == \"bthYaoqing\") {\r\n            //分享至微信\r\n            //微信分享监听\r\n            console.log('分享至微信: ');\r\n            var SSSwanfa = \"普通场\";\r\n            if (cc.sssNetMgr.wanfa === 0) {\r\n                SSSwanfa = \"普通场\";\r\n            }\r\n            else if (cc.sssNetMgr.wanfa === 3) {\r\n                SSSwanfa = \"马牌\";\r\n            }\r\n\r\n            //保存SSS房间信息\r\n            cc.sys.localStorage.setItem(\"SSS_wanfa\", cc.sssNetMgr.wanfa);\r\n            cc.sys.localStorage.setItem(\"SSS_roomId\", cc.sssNetMgr.roomId);\r\n\r\n            //微信浏览器----公众号登录 \r\n            if (cc.sys.browserType == \"mqqbrowser\" || \"wechat\" == cc.sys.browserType) {\r\n                console.log(\"H5分享好友\");\r\n                cc.find(\"Canvas/WebShare\").active = true;\r\n                cc.vv.anysdkMgr.getAccess_token(\"小伙子，我在十三水\" + \"(\" + SSSwanfa + \")\" + \"【\" + cc.sssNetMgr.roomId + \"】开好了房间，快来大战三百回合\", cc.sssNetMgr.roomId);\r\n            }\r\n            else if (cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_IOS) {\r\n                var agent = anysdk.agentManager;\r\n                this.share_plugin = agent.getSharePlugin();\r\n                this.share_plugin.setListener(this.onShareResult, this);\r\n                this.shareUrl(\"斗斗福建十三水\", \"小伙子，我在十三水\" + \"(\" + SSSwanfa + \")\" + \"【\" + cc.sssNetMgr.roomId + \"】开好了房间，快来大战三百回合\",\r\n                    \"http://game.doudouyule.wang/?roomId=\" + cc.sssNetMgr.roomId,\r\n                    \"http://game.doudouyule.wang/icon.png\", \"0\");//标题 内容 URL 图片路径 发送至\r\n            }\r\n            //其它浏览器----二维码扫码登录 \r\n            else {\r\n                console.log(\"H5分享好友\");\r\n                cc.find(\"Canvas/WebShare\").active = true;\r\n                cc.vv.anysdkMgr.getAccess_token(\"小伙子，我在十三水\" + \"(\" + SSSwanfa + \")\" + \"【\" + cc.sssNetMgr.roomId + \"】开好了房间，快来大战三百回合\", cc.sssNetMgr.roomId);\r\n            }\r\n        } \r\n        else{\r\n            if (event.target.name == \"cmdbtn1\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"zzql\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn2\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"ytl\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn3\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"ldb\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn4\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"bxgh\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn5\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"qxgz\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn6\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"llds\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn7\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"SEHZ\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn8\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"SFTX\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn9\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"STHS\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn10\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"STST\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn11\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"QD\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn12\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"QX\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn13\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"CYS\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn14\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"WDST\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn15\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"STH\"\r\n            }\r\n            else if (event.target.name == \"cmdbtn16\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"SSZ\"\r\n            }\r\n            else if (event.target.name == \"clear\") {\r\n                this.cmdNode.getChildByName(\"cmdype\").getComponent(cc.Label).string = \"\"\r\n            }\r\n        } \r\n        \r\n    },\r\n    //分享事件\r\n    onShareResult: function (code, msg) {\r\n        cc.log(\"share result, resultcode:\" + code + \", msg: \" + msg);\r\n        switch (code) {\r\n            case anysdk.ShareResultCode.kShareSuccess:\r\n                //do something\r\n                console.log('分享成功');\r\n                break;\r\n            case anysdk.ShareResultCode.kShareFail:\r\n                //do something\r\n                console.log('分享失败');\r\n                break;\r\n            case anysdk.ShareResultCode.kShareCancel:\r\n                //do something\r\n                console.log('分享取消');\r\n                break;\r\n            case anysdk.ShareResultCode.kShareNetworkError:\r\n                //do something\r\n                console.log('分享错误');\r\n                break;\r\n        }\r\n    },\r\n    onBtnHideWebShare: function () {\r\n        cc.find(\"Canvas/WebShare\").active = false;\r\n    },\r\n    //分享URL\r\n    shareUrl: function (title, text, url, imagePath, to) {\r\n        console.log('分享URL: ');\r\n        console.log('title: ' + title);\r\n        console.log('text: ' + text);\r\n        console.log('url: ' + url);\r\n        console.log('imagePath: ' + imagePath);\r\n        console.log('to: ' + to);\r\n        var map = {\r\n            title: title,//标题\r\n            text: text,//文本\r\n            url: url,//链接\r\n            mediaType: '2',//分享类型\r\n            shareTo: to,//分享至 0 聊天 1 朋友圈 2 收藏\r\n            imagePath: imagePath,//图片路径\r\n            thumbImage: jsb.fileUtils.getWritablePath() + 'icon.png'//苹果用\r\n        }\r\n        this.share_plugin.share(map);\r\n    },\r\n    // 出牌剩余时间\r\n    setLastTime: function (data) {\r\n        // console.log(data)\r\n        var prepareCom = this.prepare.getComponent('touch');\r\n        var lastTime = data / 1000;\r\n        prepareCom.setCountdown(lastTime);\r\n    },\r\n    setdissolutionTime: function (data) {\r\n        this._time = data / 1000;\r\n        if (this._time > 0) {\r\n            var min = null;\r\n            var sec = null;\r\n            var t = Math.ceil(this._time);\r\n            min = Math.floor(t / 60);\r\n            sec = Math.floor(t % 60);\r\n            this._min.string = min;\r\n            this._second.string = sec;\r\n\r\n        }\r\n        else if (this._time <= 0) {\r\n            this._isExit++;\r\n            if (this._isExit === 1) {\r\n                cc.sssNet.send(\"dispress\");\r\n            }\r\n        }\r\n    },\r\n\r\n    setlixianTime: function (data) {  //改变离线时间\r\n        cc.log(date);\r\n        var userId = data.userId;//离线人的ID\r\n        var lastTime = 99;//离线人的剩余时间\r\n\r\n        var self = this;\r\n        var seatData = cc.sssNetMgr.seats;\r\n        if (seatData) {\r\n            for (var i = 0; i < seatData.length; i++) {\r\n                if (seatData[i].userid === 0) {\r\n                    continue;\r\n                }\r\n                if (seatData[i].userid === userId) {\r\n                    var index = cc.sssNetMgr.getLocalIndex(seatData[i].seatindex);\r\n                    // self.seatsCom.seatComs[index].setCountdown(lastTime);\r\n                    self.gameSeatsCom.seatComs[index].setCountdown(lastTime);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    limitLogin: function (data) {\r\n        cc.sssNetMgr.roomId = null;\r\n        cc.scene.onShowTips(\"OK\", \"您的账号在异地登录！\", () => {\r\n            this.removeHandler();\r\n            cc.director.loadScene(\"hall\");\r\n        });\r\n    },\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n    update: function (dt) {\r\n        var minutes = Math.floor(Date.now() / 1000 / 60);\r\n        if (this._lastMinute != minutes) {\r\n            this._lastMinute = minutes;\r\n            var date = new Date();\r\n            var h = date.getHours();\r\n            h = h < 10 ? \"0\" + h : h;\r\n\r\n            var m = date.getMinutes();\r\n            m = m < 10 ? \"0\" + m : m;\r\n            // this._timeLabel.string = \"\" + h + \":\" + m;\r\n        }\r\n\r\n        if (this._lastPlayTime != null) {\r\n            if (Date.now() > this._lastPlayTime + 200) {\r\n                this.onPlayerOver();\r\n                this._lastPlayTime = null;\r\n            }\r\n        }\r\n        else {\r\n            this.playVoice();\r\n        }\r\n\r\n\r\n    },\r\n\r\n\r\n    onPlayerOver: function () {\r\n        cc.audio.resumeAll();\r\n        console.log(\"onPlayCallback:\" + this._playingSeat);\r\n        var localIndex = this._playingSeat;\r\n        this._playingSeat = null;\r\n        // this.seatsCom.seatComs[localIndex].voiceMsg(false);\r\n        this.gameSeatsCom.seatComs[localIndex].voiceMsg(false);\r\n    },\r\n\r\n    onDestroy: function () {\r\n        cc.vv.voiceMgr.stop();\r\n        //        cc.vv.voiceMgr.onPlayCallback = null;\r\n    }\r\n});\r\n\r\n\r\n"]}