{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\OneGame.js"],"names":["cc","Class","extends","Component","properties","room_id","default","type","Label","created","round_prefab","Prefab","onLoad","init","data","father","log","game_id","game_type","string","names","roles","length","i","role","seat","role_name","node","getChildByName","role_score","active","getComponent","userName","score","push","on","Node","EventType","TOUCH_END","onCheckDetail","bind","http","sendHall","method","parseInt","resp","instantiate","parent"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAAS;AACLC,qBAAS,IADJ;AAELC,kBAAMP,GAAGQ;AAFJ,SADD;AAKRC,iBAAS;AACLH,qBAAS,IADJ;AAELC,kBAAMP,GAAGQ;AAFJ,SALD;AASRE,sBAAc;AACVJ,qBAAS,IADC;AAEVC,kBAAMP,GAAGW;AAFC;AATN,KAHP;AAiBLC,YAAQ,kBAAY,CAEnB,CAnBI;AAoBLC,UAAM,cAAUC,IAAV,EAAgBC,MAAhB,EAAwB;AAC1Bf,WAAGgB,GAAH,CAAOF,IAAP;AACA,aAAKG,OAAL,GAAeH,KAAKG,OAApB;AACA,aAAKC,SAAL,GAAeJ,KAAKI,SAApB;AACA,aAAKH,MAAL,GAAcA,MAAd;AACA,aAAKV,OAAL,CAAac,MAAb,GAAsB,SAASL,KAAKT,OAApC;AACA,aAAKI,OAAL,CAAaU,MAAb,GAAsB,UAAUL,KAAKL,OAArC;AACA,aAAKW,KAAL,GAAa,EAAb;AACA,YAAGN,KAAKO,KAAR,EAAc;AACdrB,eAAGgB,GAAH,CAAOF,KAAKO,KAAL,CAAWC,MAAlB;;AAEI,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIT,KAAKO,KAAL,CAAWC,MAA/B,EAAuCC,GAAvC,EAA4C;AACxC,oBAAIC,OAAOV,KAAKO,KAAL,CAAWE,CAAX,CAAX;AACAC,qBAAKC,IAAL,GAAUF,IAAE,CAAZ;AACA,oBAAIG,YAAY,KAAKC,IAAL,CAAUC,cAAV,CAAyB,SAASJ,KAAKC,IAAvC,CAAhB;AACA,oBAAII,aAAa,KAAKF,IAAL,CAAUC,cAAV,CAAyB,UAAUJ,KAAKC,IAAxC,CAAjB;AACAC,0BAAUI,MAAV,GAAmB,IAAnB;AACAD,2BAAWC,MAAX,GAAoB,IAApB;AACAJ,0BAAUK,YAAV,CAAuB/B,GAAGQ,KAA1B,EAAiCW,MAAjC,GAA0CK,KAAKQ,QAA/C;AACAH,2BAAWE,YAAX,CAAwB/B,GAAGQ,KAA3B,EAAkCW,MAAlC,GAA2CK,KAAKS,KAAhD;AACA,qBAAKb,KAAL,CAAWc,IAAX,CAAgBV,KAAKQ,QAArB;AACH;AACJ;;AAED,aAAKL,IAAL,CAAUQ,EAAV,CAAanC,GAAGoC,IAAH,CAAQC,SAAR,CAAkBC,SAA/B,EAA0C,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAA1C;AACH,KA7CI;AA8CLD,mBAAe,yBAAY;AAAA;;AACvB,YAAG,KAAKrB,SAAL,IAAgB,CAAnB,EAAqB;AACjBuB,iBAAKC,QAAL,CAAc,EAAEC,QAAQ,iBAAV,EAA6B1B,SAAS2B,SAAS,KAAK3B,OAAd,CAAtC,EAAd,EAA8E,UAAC4B,IAAD,EAAU;AACpF,oBAAIlB,OAAO3B,GAAG8C,WAAH,CAAe,MAAKpC,YAApB,CAAX;AACAiB,qBAAKoB,MAAL,GAAc,MAAKhC,MAAnB;AACAY,qBAAKI,YAAL,CAAkB,OAAlB,EAA2BlB,IAA3B,CAAgCgC,IAAhC,EAAsC,MAAKzB,KAA3C;AACH,aAJD;AAKH,SAND,MAMK;AACDqB,iBAAKC,QAAL,CAAc,EAAEC,QAAQ,aAAV,EAAyB1B,SAAS2B,SAAS,KAAK3B,OAAd,CAAlC,EAAd,EAA0E,UAAC4B,IAAD,EAAU;AAChF,oBAAIlB,OAAO3B,GAAG8C,WAAH,CAAe,MAAKpC,YAApB,CAAX;AACAiB,qBAAKoB,MAAL,GAAc,MAAKhC,MAAnB;AACAY,qBAAKI,YAAL,CAAkB,OAAlB,EAA2BlB,IAA3B,CAAgCgC,IAAhC,EAAsC,MAAKzB,KAA3C;AACH,aAJD;AAKH;AAEJ;AACD;;AAEA;;AAEA;;AAEA;;AAEA;AAtEK,CAAT","file":"OneGame.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        room_id: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        created: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        round_prefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        }\r\n    },\r\n    onLoad: function () {\r\n\r\n    },\r\n    init: function (data, father) {\r\n        cc.log(data);\r\n        this.game_id = data.game_id\r\n        this.game_type=data.game_type\r\n        this.father = father\r\n        this.room_id.string = \"房间号：\" + data.room_id\r\n        this.created.string = \"对战时间：\" + data.created\r\n        this.names = []\r\n        if(data.roles){\r\n        cc.log(data.roles.length)\r\n\r\n            for (let i = 0; i < data.roles.length; i++) {\r\n                let role = data.roles[i]\r\n                role.seat=i+1;\r\n                let role_name = this.node.getChildByName(\"role\" + role.seat)\r\n                let role_score = this.node.getChildByName(\"score\" + role.seat)\r\n                role_name.active = true\r\n                role_score.active = true\r\n                role_name.getComponent(cc.Label).string = role.userName\r\n                role_score.getComponent(cc.Label).string = role.score\r\n                this.names.push(role.userName)\r\n            }\r\n        }\r\n        \r\n        this.node.on(cc.Node.EventType.TOUCH_END, this.onCheckDetail.bind(this))\r\n    },\r\n    onCheckDetail: function () {\r\n        if(this.game_type==2){\r\n            http.sendHall({ method: \"sss_game_rounds\", game_id: parseInt(this.game_id) }, (resp) => {\r\n                let node = cc.instantiate(this.round_prefab)\r\n                node.parent = this.father\r\n                node.getComponent(\"Round\").init(resp, this.names)\r\n            })\r\n        }else{\r\n            http.sendHall({ method: \"game_rounds\", game_id: parseInt(this.game_id) }, (resp) => {\r\n                let node = cc.instantiate(this.round_prefab)\r\n                node.parent = this.father\r\n                node.getComponent(\"Round\").init(resp, this.names)\r\n            })\r\n        }\r\n        \r\n    }\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    // start () {\r\n\r\n    // },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}