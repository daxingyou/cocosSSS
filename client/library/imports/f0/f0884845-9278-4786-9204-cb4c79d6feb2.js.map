{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\OtherReplay.js"],"names":["RESP_STR","cc","Class","extends","Component","properties","input_code","default","type","EditBox","replay_prefab","Prefab","onLoad","code","onClickClear","clear","onInputEnd","e","string","onCheckOtherReplay","http","sendHall","method","resp","errno","scene","onShowTips","mjroom","room_info","mj","mgr","self_seat","seat","replay","showPrefab","node","getComponent","init","detail","console","log","input","input_id"],"mappings":";;;;;;AAAA,IAAIA,WAAW;AACX,OAAG,oBADQ;AAEX,WAAO,mBAFI;AAGX,WAAO;AAHI,CAAf;AAKAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,oBAAY;AACRC,qBAAS,IADD;AAERC,kBAAMP,GAAGQ;AAFD,SADJ;AAKRC,uBAAe;AACXH,qBAAS,IADE;AAEXC,kBAAMP,GAAGU;AAFE;AALP,KAHP;AAaLC,YAAQ,kBAAY;AAChB,aAAKC,IAAL,GAAY,IAAZ;AACH,KAfI;AAgBLC,kBAAc,wBAAY;AACtB,aAAKC,KAAL;AACH,KAlBI;AAmBLC,gBAAY,oBAAUC,CAAV,EAAa;AACrB,aAAKJ,IAAL,GAAYI,EAAEC,MAAd;AACH,KArBI;AAsBLC,wBAAoB,8BAAY;AAC5BC,aAAKC,QAAL,CAAc,EAAEC,QAAQ,uBAAV,EAAmCT,MAAM,KAAKP,UAAL,CAAgBY,MAAzD,EAAd,EAAiF,UAACK,IAAD,EAAU;AACvF,gBAAIA,KAAKC,KAAT,EAAgB;AACZvB,mBAAGwB,KAAH,CAASC,UAAT,CAAoB,IAApB,EAA0B,WAA1B;AACH,aAFD,MAEO;AACHzB,mBAAG0B,MAAH,GAAYJ,KAAKK,SAAjB;AACA3B,mBAAG4B,EAAH,CAAMC,GAAN,CAAUC,SAAV,GAAsBR,KAAKS,IAA3B;AACA/B,mBAAG4B,EAAH,CAAMC,GAAN,CAAUG,MAAV,GAAmB,IAAnB;AACA,oBAAI;AACAhC,uBAAGwB,KAAH,CAASS,UAAT,CAAoB,IAApB,EAA0B,IAA1B,EAAgC,UAACC,IAAD,EAAU;AACtCA,6BAAKC,YAAL,CAAkB,QAAlB,EAA4BC,IAA5B,CAAiCd,KAAKe,MAAtC;AACH,qBAFD;AAGH,iBAJD,CAIE,OAAOrB,CAAP,EAAU;AACRsB,4BAAQC,GAAR,CAAYvB,CAAZ;AACH;AACJ;AACJ,SAfD;AAgBH,KAvCI;AAwCLF,WAAO,iBAAY;AACf,aAAK0B,KAAL,GAAa,EAAb;AACA,aAAKC,QAAL,CAAcxB,MAAd,GAAuB,cAAvB;AACH;AACD;;AAEA;;AAEA;;AAEA;;AAEA;AApDK,CAAT","file":"OtherReplay.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["var RESP_STR = {\r\n    0: \"申请成功，请等待俱乐部管理员审核通过\",\r\n    10017: \"俱乐部ID错误，请联系代理确认ID\",\r\n    10016: \"已加入其他俱乐部\"\r\n}\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        input_code: {\r\n            default: null,\r\n            type: cc.EditBox\r\n        },\r\n        replay_prefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        }\r\n    },\r\n    onLoad: function () {\r\n        this.code = null\r\n    },\r\n    onClickClear: function () {\r\n        this.clear()\r\n    },\r\n    onInputEnd: function (e) {\r\n        this.code = e.string\r\n    },\r\n    onCheckOtherReplay: function () {\r\n        http.sendHall({ method: \"game_replay_with_code\", code: this.input_code.string }, (resp) => {\r\n            if (resp.errno) {\r\n                cc.scene.onShowTips(\"OK\", \"你输入的分享码有错\")\r\n            } else {\r\n                cc.mjroom = resp.room_info\r\n                cc.mj.mgr.self_seat = resp.seat\r\n                cc.mj.mgr.replay = true\r\n                try {\r\n                    cc.scene.showPrefab(\"录像\", true, (node) => {\r\n                        node.getComponent(\"Replay\").init(resp.detail)\r\n                    })\r\n                } catch (e) {\r\n                    console.log(e)\r\n                }\r\n            }\r\n        })\r\n    },\r\n    clear: function () {\r\n        this.input = []\r\n        this.input_id.string = \"请输入俱乐部ID(数字)\"\r\n    }\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    // start () {\r\n\r\n    // },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}