{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\Emoji.js"],"names":["EMOJI_ID","cc","Class","extends","Component","properties","atlas_emoji","default","type","SpriteAtlas","init","name","value","nickname","string","money","value_ab","value_","Math","floor","set_banker","hu_times","banker","active","node","parent","send_msg","dir","msg","bubble","getChildByName","emoji","instantiate","emoji_prefab","sprite","getSpriteFrame","i","getComponent","Sprite","spriteFrame","width","length","msg_node","Label","setTimeout"],"mappings":";;;;;;AACA,IAAIA,WAAW,CACX,MADW,EACH,MADG,EACK,MADL,EACa,MADb,EACqB,MADrB,EAC6B,MAD7B,EACqC,MADrC,EAC6C,MAD7C,EACqD,MADrD,EAC6D,MAD7D,EACqE,MADrE,EAC6E,MAD7E,EACqF,MADrF,EAC6F,MAD7F,EACqG,MADrG,EAC6G,MAD7G,EACqH,MADrH,EAEX,MAFW,EAEH,MAFG,EAEK,MAFL,EAEa,MAFb,EAEqB,MAFrB,EAE6B,MAF7B,EAEqC,MAFrC,EAE6C,MAF7C,EAEqD,MAFrD,EAE6D,MAF7D,EAEqE,MAFrE,EAE6E,MAF7E,EAEqF,MAFrF,EAE6F,MAF7F,EAEqG,MAFrG,EAE6G,MAF7G,EAEqH,MAFrH,EAGX,MAHW,EAGH,MAHG,EAGK,MAHL,EAGa,MAHb,EAGqB,MAHrB,EAG6B,MAH7B,EAGqC,MAHrC,EAG6C,MAH7C,EAGqD,MAHrD,EAG6D,MAH7D,EAGqE,MAHrE,EAG6E,MAH7E,EAGqF,MAHrF,EAG6F,MAH7F,CAAf;;AAMAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAa;AACTC,qBAAS,IADA;AAETC,kBAAMP,GAAGQ;AAFA;AAIb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBQ,KAHP;AAwBLC,UAAM,cAAUC,IAAV,EAAgBC,KAAhB,EAAuB;AACzB,aAAKC,QAAL,CAAcC,MAAd,GAAuBH,IAAvB;AACA,aAAKI,KAAL,CAAWD,MAAX,GAAoB,KAAKE,QAAL,CAAcJ,KAAd,CAApB;AACH,KA3BI;AA4BLI,cAAU,kBAAUJ,KAAV,EAAiB;AACvB,YAAIA,QAAQ,KAAZ,EAAmB;AACf,mBAAO,KAAKA,KAAZ;AACH,SAFD,MAEO;AACH,gBAAIK,SAASC,KAAKC,KAAL,CAAWP,QAAQ,IAAnB,IAA2B,IAAxC;AACA,mBAAO,KAAMK,SAAS,KAAf,GAAwB,GAA/B;AACH;AACJ,KAnCI;AAoCLG,gBAAY,oBAAUC,QAAV,EAAoB;AAC5B,aAAKC,MAAL,CAAYC,MAAZ,GAAqB,IAArB;AACA,YAAIF,WAAW,CAAf,EAAkB;AACd,iBAAKA,QAAL,CAAcG,IAAd,CAAmBC,MAAnB,CAA0BF,MAA1B,GAAmC,IAAnC;AACA,iBAAKF,QAAL,CAAcP,MAAd,GAAuB,OAAOO,QAA9B;AACH;AACJ,KA1CI;AA2CLK,cAAU,kBAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC1B,YAAIC,SAAS,KAAKL,IAAL,CAAUM,cAAV,CAAyB,QAAQH,GAAjC,CAAb;AACAE,eAAON,MAAP,GAAgB,IAAhB;AACA,YAAIK,IAAI,CAAJ,KAAU,GAAd,EAAmB;AACf,gBAAIG,QAAQ9B,GAAG+B,WAAH,CAAe,KAAKC,YAApB,CAAZ;AACA,gBAAIC,SAAS,KAAK5B,WAAL,CAAiB6B,cAAjB,CAAgCnC,SAASoC,CAAT,CAAhC,CAAb;AACAL,kBAAMM,YAAN,CAAmBpC,GAAGqC,MAAtB,EAA8BC,WAA9B,GAA4CL,MAA5C;AACAH,kBAAMN,MAAN,GAAeI,MAAf;AACH,SALD,MAKO;AACHA,mBAAOW,KAAP,GAAe,KAAKZ,IAAIa,MAAT,GAAkB,EAAjC;AACA,gBAAIC,WAAWb,OAAOC,cAAP,CAAsB,KAAtB,CAAf;AACAY,qBAASnB,MAAT,GAAkB,IAAlB;AACAmB,qBAASL,YAAT,CAAsBpC,GAAG0C,KAAzB,EAAgC7B,MAAhC,GAAyCc,GAAzC;AACH;AACDgB,mBAAW,YAAM;AAAEf,mBAAON,MAAP,GAAgB,KAAhB;AAAwB,SAA3C,EAA6C,IAA7C;AACH;AACD;;AAEA;;AAEA;;AAEA;;AAEA;AAnEK,CAAT","file":"Emoji.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["\r\nvar EMOJI_ID = [\r\n    \"E00E\", \"E02B\", \"E043\", \"E04F\", \"E051\", \"E052\", \"E053\", \"E056\", \"E057\", \"E058\", \"E059\", \"E105\", \"E106\", \"E107\", \"E108\", \"E252\", \"E401\",\r\n    \"E402\", \"E403\", \"E404\", \"E405\", \"E406\", \"E407\", \"E408\", \"E409\", \"E40A\", \"E40B\", \"E40C\", \"E40D\", \"E40E\", \"E40F\", \"E410\", \"E411\", \"E412\",\r\n    \"E413\", \"E414\", \"E415\", \"E416\", \"E417\", \"E418\", \"E41D\", \"E41F\", \"E420\", \"E421\", \"E428\", \"E52B\", \"E52D\", \"E52E\"\r\n]\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        atlas_emoji: {\r\n            default: null,\r\n            type: cc.SpriteAtlas\r\n        },\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n    init: function (name, value) {\r\n        this.nickname.string = name\r\n        this.money.string = this.value_ab(value)\r\n    },\r\n    value_ab: function (value) {\r\n        if (value < 10000) {\r\n            return '' + value\r\n        } else {\r\n            let value_ = Math.floor(value / 1000) * 1000\r\n            return '' + (value_ / 10000) + 'ä¸‡'\r\n        }\r\n    },\r\n    set_banker: function (hu_times) {\r\n        this.banker.active = true\r\n        if (hu_times > 0) {\r\n            this.hu_times.node.parent.active = true\r\n            this.hu_times.string = 'x ' + hu_times\r\n        }\r\n    },\r\n    send_msg: function (dir, msg) {\r\n        let bubble = this.node.getChildByName(\"dir\" + dir)\r\n        bubble.active = true\r\n        if (msg[0] == \"E\") {\r\n            let emoji = cc.instantiate(this.emoji_prefab)\r\n            let sprite = this.atlas_emoji.getSpriteFrame(EMOJI_ID[i]);\r\n            emoji.getComponent(cc.Sprite).spriteFrame = sprite\r\n            emoji.parent = bubble\r\n        } else {\r\n            bubble.width = 26 * msg.length + 40\r\n            let msg_node = bubble.getChildByName(\"msg\")\r\n            msg_node.active = true\r\n            msg_node.getComponent(cc.Label).string = msg\r\n        }\r\n        setTimeout(() => { bubble.active = false; }, 1000)\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    // start () {\r\n\r\n    // },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}